[
  {
    "key": "RX-15282",
    "summary": "DAL - QE - Performance Test Scenario 3",
    "description": "Provide Performance Test Scenario 3\n\nh3. *Acceptance Criteria*\n\n# Detailed user profile is defined, including license and access control,  and expected actions.\n# A comprehensive list of scenarios (ODATA queries) is provided, covering normal, peak, and edge-case conditions.\n# Traffic patterns and usage frequencies are outlined for each scenario.",
    "status": "Done",
    "assignee": "Bilal Sevincli",
    "priority": "1-Critical",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Marina Al-Jarakh",
        "created": "2025-10-01T14:23:36.330+0100",
        "body": "{{/data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'Near infrared Armed antibody'))}}was added to regression test"
      },
      {
        "author": "Bilal Sevincli",
        "created": "2025-10-01T13:25:21.577+0100",
        "body": "*OData Query:* {{data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'KEYWORD'&$expand=Abstracts,Keywords&$top=100$skip=N}}\n\n\n\n*Scenario Logic (Phased Execution)*\nThe scenario executes sequential time blocks (no overlap):\n\n* 9 min: keyword _magnetodielectric_\n* 2 min: keyword _cladosiphon_\n* 7 min: keyword _chromatiaceae_\n* 20 min: keyword _myasthenic_\n\nEach phase repeatedly issues the same functional step: retrieve citations for the active keyword.\n\n*Load Profile*\n\n* After reviewing the [Confluence|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602271061223/Performance+Scenario+3], the *target RPS* was set at *1*.\n* *Virtual users:* 2 launched instantly (single cohort), meaning 2 different sessions\n* *Purpose of 2 users:* \n** Ensure continuity if one user waits on latency; throttle enforces global RPS cap (not per user) since the target RPS couldn’t be achieved with a single virtual user(session).\n** Minimize the number of sessions created. \n* *Throttled rate:* ramp to 1 request/second in 1 second, then hold for a total of 38 minutes\n* *Effective behavior:* ~1 request per second overall (not 2 RPS) due to throttle\n\n\n*Design Rationale*\n\n* The throttle was chosen to keep the volume of requests predictable, regardless of the variance in response times.\n* Sequential keyword phases allow temporal correlation in reports\n* Minimal concurrency avoids artificial session noise while still exercising session management\n\n\n*Key Parameters*\n\n* *Total duration:* 38 minutes (sum of phases)\n* *Target RPS:* 1 (can be adjusted via constant TARGET_RPS)\n* *Users:* configurable via the USERS constant to achieve target RPS\n* *Ramp:* RAMP_DURATION seconds (very short, effectively immediate)\n\n\n*Scenario & Load Design:*\n\n* Firstly, a token is generated in the static block and used for all requests submitted in each session during test execution.\n* 2 virtual users are injected, and each has a dedicated session ID.\n* The phases are then run sequentially using dedicated keywords by 2 virtual users(sessions) to achieve the target RPS of 1 by throttling.\n\n{noformat}    private final String GROUP_NAME = \"DAL Scenario 3\";\n\n    // Keywords\n    private static final String KW_MAGNETODIELECTRIC = \"magnetodielectric\";\n    private static final String KW_CLADOSIPHON = \"cladosiphon\";\n    private static final String KW_CHROMATIACEAE = \"chromatiaceae\";\n    private static final String KW_MYASTHENIC = \"myasthenic\";\n\n    // Phase durations (minutes)\n    private static final int DUR_MIN_9 = 9;\n    private static final int DUR_MIN_2 = 2;\n    private static final int DUR_MIN_7 = 7;\n    private static final int DUR_MIN_20 = 20;\n    private static final int DUR_MIN_38 = 38;\n\n    private static final int USERS = 2;\n    private static final int TARGET_RPS = 1;\n    private static final int RAMP_DURATION = 1;\n\n    private final HttpProtocolBuilder httpProtocol = http\n            .baseUrl(SimulationConfig.baseURL());\n\n    ScenarioBuilder singleScenario = scenario(\"Single Scenario\")\n            .group(GROUP_NAME).on(\n                    during(Duration.ofMinutes(DUR_MIN_9)).on(\n                                    exec(retrieveCitationsForKeyword(KW_MAGNETODIELECTRIC))\n                            )\n                            .during(Duration.ofMinutes(DUR_MIN_2)).on(\n                                    exec(retrieveCitationsForKeyword(KW_CLADOSIPHON))\n                            )\n                            .during(Duration.ofMinutes(DUR_MIN_7)).on(\n                                    exec(retrieveCitationsForKeyword(KW_CHROMATIACEAE))\n                            )\n                            .during(Duration.ofMinutes(DUR_MIN_20)).on(\n                                    exec(retrieveCitationsForKeyword(KW_MYASTHENIC))\n                            )\n            );\n\n\n    static {\n        AuthAccessorsDAL.saveTokenToProperties();\n    }\n\n\n    {\n        setUp(\n                singleScenario.injectOpen(\n                        atOnceUsers(USERS)\n                ).throttle(\n                        reachRps(TARGET_RPS).in(Duration.ofSeconds(RAMP_DURATION)),\n                        holdFor(Duration.ofMinutes(DUR_MIN_38)))\n        ).protocols(httpProtocol);\n    }{noformat}\n\n\n\n[~accountid:5a4d1d091e82dd081aaea3ed] [~accountid:5aafb11f35e5a02a84df0e66] [~accountid:60b8c63813c0e90069f6944a] [~accountid:5e79c554dde7030c4f121b88] [~accountid:6347d7f98bb342276b517a6d] Could you please review the test setup above and let me know if you have any concerns?\n\n\n\n----\n\n\n\nh3. Test Execution/Results\n\n* The test has been performed on DEMO DAL.\n* No request failed.\n* The target RPS of 1 has been reached.\n\n{noformat}\n================================================================================\n---- Global Information --------------------------------------------------------\n> request count                                       2280 (OK=2280   KO=0     )\n> min response time                                    654 (OK=654    KO=-     )\n> max response time                                   1891 (OK=1891   KO=-     )\n> mean response time                                  1122 (OK=1122   KO=-     )\n> std deviation                                        166 (OK=166    KO=-     )\n> response time 50th percentile                       1117 (OK=1117   KO=-     )\n> response time 75th percentile                       1227 (OK=1227   KO=-     )\n> response time 95th percentile                       1372 (OK=1372   KO=-     )\n> response time 99th percentile                       1520 (OK=1520   KO=-     )\n> mean requests/sec                                      1 (OK=1      KO=-     )\n---- Response Time Distribution ------------------------------------------------\n> t < 800 ms                                            95 (  4%)\n> 800 ms <= t < 1200 ms                               1523 ( 67%)\n> t >= 1200 ms                                         662 ( 29%)\n> failed                                                 0 (  0%)\n================================================================================{noformat}\n\n!image-20251001-122322.png|width=1201,height=891,alt=\"image-20251001-122322.png\"!\n\n*Please view the test report below and open the 'index.html' file.*\n\n[^dal_scenario_3.zip]\n\n"
      },
      {
        "author": "Bilal Sevincli",
        "created": "2025-09-25T08:20:01.515+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed] Thank you!"
      },
      {
        "author": "Markus Fischer",
        "created": "2025-09-24T16:03:29.262+0100",
        "body": "[~accountid:60e859ca0dd4f60076c27273] , I have updated the queries on [https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602271061223/Performance+Scenario+3|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602271061223/Performance+Scenario+3|smart-link]  \n\nThe queries now use single words as keyword filters to reproduce the expected number of hits for the original multi word filters.\nThe new queries are:\n\n{{data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'magnetodielectric'}}\nnumber of citation results: {{794}}\n\n\n{{data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'Near infrared Armed antibody'}}\nnumber of citation results: {{0}}\n\n\n{{data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'cladosiphon'}}\nnumber of citation results: {{109}}\n\n\n{{data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'chromatiaceae'}}\nnumber of citation results: {{458}}\n\n\n{{data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'myasthenic'}}\nnumber of citation results: {{1956}}\n\nPlease use above queries for the performance tests.\n\n[~accountid:60b8c63813c0e90069f6944a] , we will look into the phrase search examples in more details with the text search capabilities. Have created [https://elsevier.atlassian.net/browse/RX-18186|https://elsevier.atlassian.net/browse/RX-18186|smart-link]  to capture the findings on multi word phrases\n"
      },
      {
        "author": "Bilal Sevincli",
        "created": "2025-09-24T12:32:52.274+0100",
        "body": "[~accountid:60b8c63813c0e90069f6944a] , I checked the examples on [https://dal.rx-nonprod.cm-elsevier.com|https://dal.rx-nonprod.cm-elsevier.com/#/search/advanced] via both {{Advanced }}and {{All Keywords}} querylets.\n\nThe examples return hitsets:\n\n* {{Near infrared electronics}}\n* {{Near infrared Antibody Drug Conjugate}}\n* {{Near infrared PDT}}\n* {{Near infrared Photodynamic Therapy}}\n\n!dal query.mp4|width=1714,height=1384,alt=\"dal query.mp4\"!\n\n\n\nThe examples return zero hitsets:\n\n* {{Near infrared Armed antibody}}\n\n{noformat}\"SEND\\nsourceKey:main.search.advancedsearch\\nX-ELS-ControlHeader:pending_ai_rt:true,enableSUNIChemicalNamesChanges:true,enableDisplaySupplierNumber:true,enableReactionExportAsRDFile:true,enableTreeViewSelections:true,enableRTQueuePosition:true,enableStaticQuickSearchExamples:true\\ntraceparent:00-79fcd315859e4c89b4f2358e5d9ee6f4-35fd297e7ee44cf3-00\\ntracestate:app=rx_ui\\ndestination:/app/search/advanced\\ncontent-length:396\\n\\n{\\\"queryFactItem\\\":{\\\"id\\\":\\\"root\\\",\\\"facts\\\":[{\\\"id\\\":\\\"Reaxys2825\\\",\\\"exist\\\":false,\\\"fieldsLogicOperator\\\":\\\"AND\\\",\\\"fields\\\":[{\\\"id\\\":\\\"KWD.KW\\\",\\\"value\\\":\\\"Near infrared Armed antibody\\\",\\\"boundOperator\\\":\\\"op_txt_is\\\",\\\"displayName\\\":\\\"All Keywords\\\",\\\"dataType\\\":\\\"string\\\"}]}]},\\\"context\\\":\\\"citations\\\",\\\"databases\\\":[\\\"8\\\",\\\"1\\\",\\\"20\\\"],\\\"searchId\\\":\\\"9fd9d4e1-59af-481d-882c-ae6dba215347\\\",\\\"requestId\\\":\\\"f8111f82-6d2b-49ac-8abb-2d4f23d38375\\\"}\\u0000\"{noformat}\n\n{noformat}\"SEND\\nsourceKey:main.search.advancedsearch\\nX-ELS-ControlHeader:pending_ai_rt:true,enableSUNIChemicalNamesChanges:true,enableDisplaySupplierNumber:true,enableReactionExportAsRDFile:true,enableTreeViewSelections:true,enableRTQueuePosition:true,enableStaticQuickSearchExamples:true\\ntraceparent:00-79fcd315859e4c89b4f2358e5d9ee6f4-217163dcec5d42da-00\\ntracestate:app=rx_ui\\ndestination:/app/search/advanced\\ncontent-length:325\\n\\n{\\\"queryFactItem\\\":{\\\"id\\\":\\\"root\\\",\\\"facts\\\":[{\\\"id\\\":\\\"ADVANCED.QL\\\",\\\"exist\\\":false,\\\"advancedItems\\\":[{\\\"advancedExpression\\\":\\\"KWD.KW='Near infrared Armed antibody'\\\",\\\"databaseId\\\":null}]}]},\\\"context\\\":\\\"citations\\\",\\\"databases\\\":[\\\"8\\\",\\\"1\\\",\\\"20\\\"],\\\"searchId\\\":\\\"c93ee28e-df90-4010-a78a-49b54bf94b7c\\\",\\\"requestId\\\":\\\"596ee95d-49d2-4250-9601-b8d06d57bcd7\\\"}\\u0000\"{noformat}"
      },
      {
        "author": "Vladislav Matyushevski",
        "created": "2025-09-24T10:26:13.756+0100",
        "body": "[~accountid:60e859ca0dd4f60076c27273], what does UI ([https://dal.rx-nonprod.cm-elsevier.com|https://dal.rx-nonprod.cm-elsevier.com/#/search/advanced]) returns for this searches? \n\nIf it also returns zero results, then examples are expected to be adjusted. But If the results are shown we must understand what is the difference and either adjust our ODATA search command or use different field for the search or it is a bug in DAL."
      },
      {
        "author": "Bilal Sevincli",
        "created": "2025-09-24T09:51:25.589+0100",
        "body": " [~accountid:5a4d1d091e82dd081aaea3ed]As Vlad confirmed below, all examples on the Confluence return zero hits.\n\nHere are the examples:\n\n{{Near infrared electronics}}\n\n{{Near infrared Armed antibody}}\n\n{{Near infrared Antibody Drug Conjugate}}\n\n{{Near infrared PDT}}\n\n{{Near infrared Photodynamic Therapy}}\n\n\n\n(?) Can you please provide new verified examples that can be used in the scenario? Or is it fine to use any other example that would return hit sets?"
      },
      {
        "author": "Bilal Sevincli",
        "created": "2025-09-24T09:45:49.432+0100",
        "body": "[~accountid:60b8c63813c0e90069f6944a] Thanks!"
      },
      {
        "author": "Vladislav Matyushevski",
        "created": "2025-09-24T09:35:13.657+0100",
        "body": "Having this version will return resutls:\n\n{noformat}ata/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'Near infrared'))&$expand=Abstracts,Keywords{noformat}"
      },
      {
        "author": "Vladislav Matyushevski",
        "created": "2025-09-24T09:33:38.532+0100",
        "body": "[~accountid:60e859ca0dd4f60076c27273], adding below the fulgor command and it`s output. There is no data like this in DB.\n\nSEARCH  into CI_002_3_1800911591175170:C CL3:\"Near infrared electronics\"\nHits found: 0/0 "
      },
      {
        "author": "Bilal Sevincli",
        "created": "2025-09-23T13:30:18.804+0100",
        "body": " [~accountid:5a4d1d091e82dd081aaea3ed]The example requests on the Confluence page return an empty list. Can you please confirm the examples and the environment?\n\n*Environment:* [https://dal-data-api.reaxys-nonprod.cortex.elsevier.systems|https://dal-data-api.reaxys-nonprod.cortex.elsevier.systems]\n\n*Query*: {{data/Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'Near infrared electronics'))&$expand=Abstracts,Keywords}}\n\n*Response:* \n\n{noformat}{\n\t\"@odata.context\": \"$metadata#Citations(Keywords(),Abstracts())\",\n\t\"value\": []\n}{noformat}"
      },
      {
        "author": "Markus Fischer",
        "created": "2025-09-08T11:55:15.633+0100",
        "body": "[~accountid:60e859ca0dd4f60076c27273] , have completed the definition of scenario 3:\n[https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602271061223/Performance+Scenario+3|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602271061223/Performance+Scenario+3|smart-link] \n\nLet me know if you have questions"
      }
    ]
  },
  {
    "key": "RX-17807",
    "summary": "DAL - QA - Verify contents of refactored reaction stages",
    "description": "Here is the new model, [Refactored Reaction Stages - Reaxys Product Management - Elsevier Confluence|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602210111917/Refactored+Reaction+Stages],\n\nPlease verify the contents using DAL API\n\n*Acceptance Criteria*\n\n* Verification of the contents based on the new model from above confluence page\n** {noformat}\"Reaction\": {\n  “ReactionDetails”: [\n    {\n      “ReactionStages”: [\n        {\n          \"ReactionStageNumber\": 1,\n          \"SolidPhase\": null\n        },\n        {\n          \"ReactionStageNumber\": 2 or Null,\n        },\n        {\n          \"ReactionStageNumber\": 3 or Null,\n        }\n      ],\n      \"ReactionDetail3\": [\n        {\n          \"Reagent\": \"borane\",\n          \"ReactionStageNumber\": 1,\n          \"LIST\": [\"A\", \"B\"]\n        },\n        {\n          \"Reagent\": \"borane\",\n          \"ReactionStageNumber\": 2\n        }\n      ],\n      \"OtherConditions\": [\n        {\n          \"ReactionStageNumber\": 1,\n          \"OtherCondition\": [ \"A\", \"B\" ]\n        }\n      ]\n    }\n  ]\n}{noformat}",
    "status": "Done",
    "assignee": "Xiaoyan Wu",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Xiaoyan Wu",
        "created": "2025-09-25T08:58:20.957+0100",
        "body": "[~accountid:60b8c63813c0e90069f6944a] has updated dal non-prod, and (/) I see expected values for ReactionTypes of ReactionId =32800994\n\n{noformat}[\n\t\"[Suzuki-Miyaura Coupling]\",\n\t\"[Suzuki-Miyaura cross-coupling]\",\n\t\"[Suzuki-Miyaura Coupling]\"\n]\nRX.ID=32800994 and RXD.TYP='Suzuki-Miyaura*' \n\n$.ReactionDetails[:].ReactionTypes[:].ReactionDetailsReactionType\n\nsimplified form for this version, ReactionTypes\n{noformat}"
      },
      {
        "author": "Xiaoyan Wu",
        "created": "2025-09-24T16:11:36.023+0100",
        "body": "Hi [~accountid:6347d7f98bb342276b517a6d] could you please check this one ReactionTypes of ReactionId =32800994 in demodal or dal nonprod?\n\nfyi [~accountid:60b8c63813c0e90069f6944a] \n\n{noformat}Upd:\nFor ReactionId =32800994 in demodal BZE field is present in Fulgor's response. Fulgor response below:\n/@:BL1@*32800994@*@;@:BZ075198609@:BZ2Preparation@:BZU22@:BYANo@:BZQ1@:BZ@+//M2664512@:BZNdimethyl 2,2'-dimethylbiphenyl-4,4'-dicarboxylate@:BZ389 pe@+//rcent@:BZY89@:BZK11326756@:BZ5palladium (II) [1,1'-bis(diphenylphosphany@+//l)ferrocene] dichloride@:BZK6184400@:BZ5caesium fluoride@:BZS102551@:BZ7@+//1,4-dioxane@:BZS3587155@:BZ7water monomer@:BZ824@:BZCInert atmosphere@:B@+//ZCReflux@:BZESuzuki-Miyaura Coupling@:BYR|Experimental part@:BZV2019/03/@+//20@;@:BZ0112687171@:BZ2Preparation@:BZU48@:BZT3ai. Dimethyl 2,2-'dimethy@+//l-biphenyl-4,4'-dicarboxylate (DMBP-OMe) Synthesis@:BZWDMBP-OMesynthesis@+// was adapted from a previous report1. A Suzuki-Miyaura cross coupling re@+//action was performedvia microwave synthesis by adding 0.66 g methyl 4-br@+//omo-3-methylbenzoate (2.9 mmol), 0.71 g methyl 3-methyl-4-(4,4,5,5-tetra@+//methyl-1,3,2-dioxaborolan-2-yl)benzoate (2.6 mmol), 1.16 g potassium car@+//bonate(8.4 mmol), and 0.155 g tetrakis(triphenylphosphine)palladium(0) (@+//0.13 mmol){noformat}"
      },
      {
        "author": "Vladislav Matyushevski",
        "created": "2025-09-24T16:00:14.428+0100",
        "body": "Providing below the table with investigation results for fields that doesn`t have values.\nThere is a fix for displaying fields: BZD, BZR. For other fields DAL doesn`t receive data from Xfire/Fulgor as a result no data shown.\n\n||*Field*||*Fulgor Alias*||*qadal*||*dal non-prod*\n{{DAL-Server: 0.1.154}}\n{{DAL-Service: 0.1.206}}||\n|ReagentCatalyst|BZ_|Not found in Fulgor Response|(/) It is searchable but not retrievable for the field itself, so null is expected\n{noformat}combination of <RXD.SOL>dimethyl sulfoxide</RXD.SOL> and <RXD.RGT> on UI{noformat}|\n|OtherConditions|BZC|Not found in Fulgor Response|(/) \n{noformat}[\n\t\"[Inert atmosphere, Reflux]\",\n\t\"[Microwave irradiation]\",\n\t\"[Inert atmosphere, Reflux]\"\n]\nRX.ID=32800994 and RXD.COND= 'Inert atmosphere, Reflux, Microwave irradiation'{noformat}|\n|ReactionTypes|BZE|Not found in Fulgor Response|(/) \n{noformat}[\n\t\"[Suzuki-Miyaura Coupling]\",\n\t\"[Suzuki-Miyaura cross-coupling]\",\n\t\"[Suzuki-Miyaura Coupling]\"\n]\nRX.ID=32800994 and RXD.TYP='Suzuki-Miyaura Coupling' {noformat}|\n|SubjectStudied|BZD|Fixed in dal-server version: {{0.1.153}}|(/) \n{noformat}[\n\t\"[Catalytic behavior]\"\n]\nRX.ID=279473 and RXD.SUB='Catalytic behavior' {noformat}|\n|ParentReference|BYQ|Not found in Fulgor Response|(/) \n{noformat}[\n\tnull,\n\tnull,\n\tnull,\n\t\"618478128_I15\",\n\tnull\n]\nRX.ID=4420445 AND RXD.PARENTREF=\"618478128_I15\"{noformat}|\n|Comments|BZX|Not found in Fulgor Response|(/) simplified tag\n{noformat}$.ReactionDetails[:].Comments[:].ReactionDetailsComment\n\n[\n\t\"[chemoselective reaction]\",\n\t\"[chemoselective reaction]\",\n\t\"[chemoselective reaction]\",\n\t\"[chemoselective reaction]\",\n\t\"[chemoselective reaction]\",\n\t\"[chemoselective reaction]\"\n]\n\nRX.ID=279473{noformat}|\n|MultiStepDetails|BZR|Fixed in dal-server version: {{0.1.153}}\n(x) test failed with version {{0.1.154}}\n!image-20250925-094518.png|width=516,height=103,alt=\"image-20250925-094518.png\"!|(x) the superscript degree symbol not readable\n{noformat}$.ReactionDetails[:].MultiStepDetails\nRX.ID=303627{noformat}\n!image-20250925-095152.png|width=506,height=484,alt=\"image-20250925-095152.png\"!|"
      },
      {
        "author": "Xiaoyan Wu",
        "created": "2025-09-24T09:26:46.409+0100",
        "body": "{noformat}{{ _.base_url }}/data/Reactions(276969)?$expand=ReactionDetails($top=100)\n\nto narrow down, \n$.ReactionDetails[:].OtherConditions[:].OtherCondition{noformat}\n\nfyi [~accountid:60b8c63813c0e90069f6944a] "
      },
      {
        "author": "Xiaoyan Wu",
        "created": "2025-09-24T09:06:56.861+0100",
        "body": "||dal entities||*actual-RX.ID=*249626||*expected-RX.ID=*249626||*actual-RX.ID=*241574||*expected-RX.ID=*241574||*actual-RX.ID=*20325||*expected-RX.ID=*20325||\n|BinFrequency|null|<RX.BFREQ>10</RX.BFREQ>|null|null|null|<RX.BFREQ>1</RX.BFREQ>|"
      },
      {
        "author": "Xiaoyan Wu",
        "created": "2025-09-24T08:58:44.910+0100",
        "body": "||dal entities||*actual-RX.ID=*276969||*expected-RX.ID=*276969||*actual-RX.ID=*232862||*expected-RX.ID=*232862||*actual-RX.ID=*249592||*expected-RX.ID=*249592||*actual-RX.ID=*233954||*expected-RX.ID=*233954||\n|BinFrequency|null|<RX.BFREQ>2</RX.BFREQ>|null|<RX.BFREQ>2</RX.BFREQ>|null|<RX.BFREQ>33</RX.BFREQ>|null|<RX.BFREQ>7</RX.BFREQ>|\n|ReagentCatalyst|null|<RXD.RGTCAT>Amberlyst A-15 resin OR sodium hydroxide OR ammonia</RXD.RGTCAT>| | | | | | |\n|OtherConditions|[\n\t\"[Autoclave]\",\n\t\"[Autoclave]\",\n\t\"[Autoclave]\",\n\t\"[Inert atmosphere, Schlenk technique, Autoclave]\",\n\t\"[Autoclave]\"\n]|{noformat}<RXD.COND>Autoclave</RXD.COND>\n<RXD.COND>Autoclave</RXD.COND>\n<RXD.COND>Autoclave</RXD.COND>\n<RXD.COND>Inert atmosphere</RXD.COND>\n<RXD.COND>Schlenk technique</RXD.COND>\n<RXD.COND>Autoclave</RXD.COND>\n<RXD.COND>Autoclave</RXD.COND>\n<RXD.COND highlight=\"true\"><hi>Glovebox</hi></RXD.COND>\n<RXD.COND>Inert atmosphere</RXD.COND>\n<RXD.COND>Autoclave</RXD.COND>\n<RXD.COND>Inert atmosphere</RXD.COND>\n<RXD.COND>Sealed tube</RXD.COND>{noformat}| | | | | | |\n|ReactionDetailsReactionType|null|<RXD.TYP>Suzuki-Miyaura Coupling</RXD.TYP>| | | | | | |\n|SubjectStudied|null|{noformat}<RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Product distribution / selectivity</RXD.SUB>\n          <RXD.SUB>Conversion of starting material</RXD.SUB>\n          <RXD.SUB>Conversion of starting material</RXD.SUB>\n          <RXD.SUB>Conversion of starting material</RXD.SUB>\n          <RXD.SUB>Reactivity</RXD.SUB>\n          <RXD.SUB>Reactivity</RXD.SUB>\n          <RXD.SUB>Catalytic behavior</RXD.SUB>\n          <RXD.SUB>Kinetics</RXD.SUB>\n          <RXD.SUB>Catalytic behavior</RXD.SUB>\n          <RXD.SUB>Mechanism</RXD.SUB>\n          <RXD.SUB>Catalytic behavior</RXD.SUB>\n          <RXD.SUB>Catalytic behavior</RXD.SUB>\n          <RXD.SUB>Catalytic behavior</RXD.SUB>{noformat}| | | | | | |\n|ParentReference|null|<RXD.PARENTREF>614511380_I72</RXD.PARENTREF>| | | | | | |\n|ReactionDetailsComment|null|{noformat}<RXD.COM>13.1: |Horner-Wadsworth-Emmons Olefination / 13.2: Horner-Wadsworth-Emmons Olefination / 19.1: Mukaiyama Aldol Addition / 27.1: Stille Carbonyl Synthesis / 27.2: Stille Carbonyl Synthesis / 28.1: Nazarov Cyclization</RXD.COM>{noformat}| | | | | | |\n|MultiStepDetails| | | | | | |{noformat}[\n\t[],\n\t[\n\t\t\"1: hydrazine / ethanol / 6 h / 20  C / Heating / reflux\",\n\t\t\"2: ethanol; water / 0.17 h / 20  C\",\n\t\t\"3: sodium borohydride / THF / 20  C\"\n\t]\n]{noformat}| |"
      }
    ]
  },
  {
    "key": "RX-17944",
    "summary": "Migration of Chemquote Service - Technical Design",
    "description": "Create any relevant design documentation as well as a plan to migrate the service to consume the Data API.\n\nDocumentation to be done in a new page under: [https://elsevier.atlassian.net/wiki/spaces/RTS/pages/119601023944409/Reaxys+Chemquote+Service+-+Technical+Documentation|https://elsevier.atlassian.net/wiki/spaces/RTS/pages/119601023944409/Reaxys+Chemquote+Service+-+Technical+Documentation|smart-link] ",
    "status": "Review",
    "assignee": "Aliaksandr Zuyevich",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Aliaksandr Zuyevich",
        "created": "2025-10-07T17:03:25.622+0100",
        "body": "[Migration of Chemquote Service from XML server to DAL - Reaxys Team Space - Elsevier Confluence|https://elsevier.atlassian.net/wiki/spaces/RTS/pages/119602328244433/Migration+of+Chemquote+Service+from+XML+server+to+DAL]"
      }
    ]
  },
  {
    "key": "RX-15283",
    "summary": "DAL: Performance Test Scenario 4",
    "description": "Provide Performance Test Scenario 4\n\nh3. *Acceptance Criteria*\n\n# Detailed user profile is defined, including license and access control,  and expected actions.\n# A comprehensive list of scenarios (ODATA queries) is provided, covering normal, peak, and edge-case conditions.\n# Traffic patterns and usage frequencies are outlined for each scenario.",
    "status": "Draft",
    "assignee": "Markus Fischer",
    "priority": "1-Critical",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-16855",
    "summary": "DAL: Kong PROD - return 404 status code with 'no Route matched with those values' message",
    "description": "When sending requests through Kong using a valid PROD Keycloak token, URLs containing *encoded special characters (e.g.,* {{$}}*) in the path segment* return a 404 error. \n\n*Steps to reproduce:*\n\n# Obtain a valid Keycloak PROD token: \n## POST [https://access.identity.elsevier.com/realms/reaxys-apis/protocol/openid-connect/token|https://access.identity.elsevier.com/realms/reaxys-apis/protocol/openid-connect/token]  with Payload from [https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601609280658/DAL+TEST+credentials|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601609280658/DAL+TEST+credentials|smart-link] \n## extract \"access_token\" from response\n# Send a request with an encoded special character in the path segment.\n## GET {{https://apigw.healthcare.elsevier.com/ls/rx-data-api/v1/data/%24metadata}}  {{(/$metadata)}}\n## GET {{https://apigw.healthcare.elsevier.com/ls/rx-data-api/v1/data/Monitor%28RequestId%3D%27b7d75267-cdee-499c-868a-2de2954fd325%27%29}} (Long Running search) {{(RequestId='b7d75267-cdee-499c-868a-2de2954fd325')}}\n## GET{{https://apigw.healthcare.elsevier.com/ls/rx-data-api/v1/data/Substances%282208730%29}}  {{/Substances(2208730)}}\n# Observe the response:\n\n*Actual result (response):*\n\n* Status: {{404 Not Found}}\n* Payload:\n{noformat}{\n  \"message\": \"no Route matched with those values\"\n}{noformat}\n\n# Repeat the same request but target the backend API directly (bypassing Kong):\n## GET {{https://dal-data-api.reaxys-prod.cortex.elsevier.systems/data/%24metadata}}\n## GET {{https://dal-data-api.reaxys-prod.cortex.elsevier.systems/data/Monitor%28RequestId%3D%27b7d75267-cdee-499c-868a-2de2954fd325%27%29}}\n## GET {{https://dal-data-api.reaxys-prod.cortex.elsevier.systems/data/Substances%282208730%29}}\n\n*Expected* *result (response):*\n\nObserve that DAL responds successfully with the expected metadata\\data\n\n*BUT*: *encoded characters in query parameters are handled correctly* by Kong. e.g. {{https://apigw.healthcare.elsevier.com/ls/rx-data-api/v1/data/Substances?%24filter=ReaxysRegistryNumber%20eq%20779271}}\n\n\n\n*Note*: Please also verify the following endpoints via Kong:\n\n* {{https://apigw.healthcare.elsevier.com/ls/rx-data-api/v1/data/PubchemCompounds}}\n* {{https://apigw.healthcare.elsevier.com/ls/rx-data-api/v1/data/CommercialSubstances}}\n\nIf these also return 404 with ‘no Route matched with those values’ message, it may be related to test user access rights rather than routing or it may also be related to routing.",
    "status": "Draft",
    "assignee": "Srikanta Patanjali",
    "priority": "1-Critical",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Markus Fischer",
        "created": "2025-06-24T10:27:26.144+0100",
        "body": "[~accountid:5aafb11f35e5a02a84df0e66] , added to upcoming sprint for discussion since this is critical for GTM, especially for server side pagination nextlink"
      },
      {
        "author": "Srikanta Patanjali",
        "created": "2025-06-13T11:38:19.223+0100",
        "body": "Kong’s OpenAPI spec needs to be checked."
      }
    ]
  },
  {
    "key": "RX-11953",
    "summary": "Remove linear formula placeholder \"…\"",
    "description": "For the fields {{ID_.IDD}} ({{IDE.MF}}), {{ID_.IFB}} ({{IDE.IMF}}), {{ID_.IFA}} ({{IDE.HSF}}), {{ID_.IFC}} ({{IDE.IHSF}}), {{ID_.IDC}} ({{IDE.FMF}}), {{ID_.IDG}} ({{IDE.ELC}}), {{ID_.IFD}} ({{IDE.IELC}}) Fulgor is representing values using a fixed column based format to represent the Element Symbol, Element Count, and Element Isotope Number\n\n*Examples*\n\n_Without Isotope Information_\n\nFields {{ID_.IDD}} ({{IDE.MF}}), {{ID_.IFA}} ({{IDE.HSF}}), {{ID_.IDC}} ({{IDE.FMF}}), {{ID_.IDG}} ({{IDE.ELC}})\n\n7 columns are used to represent an element with isotope information\n\n{{Element Symbol}} : Column {{1 .. ? (2 or 3)}} Upper bound needs to be clarified\n{{Element Count}} : Column {{? (3 or 4) .. 7}} Lower bound needs to be clarified\n\nExamples:\n\n{{C..1016}} : Represents Carbon and 1016 occurrences \n{{Pu....1}} : Represents Plutonium and 1 occurrence\n{{O.....2}} : Represents Oxygen and 2 occurrences\n{{Cl....2}} : Represents Chlorine and 2 occurrences\n\nFor fields {{ID_.IDD}} ({{IDE.MF}}), {{ID_.IFA}} ({{IDE.HSF}}), {{ID_.IDC}} ({{IDE.FMF}}) the value is a concatenation of individual element representations\n\n_With Isotope Information_\n\nFields {{ID_.IFB}} ({{IDE.IMF}}), {{ID_.IFC}} ({{IDE.IHSF}}), {{ID_.IFD}} ({{IDE.IELC}}) \n\n10 columns are used to represent an element with isotope information\n\n{{Element Symbol}} : Column {{1 .. ? (2 or 3)}} Upper bound needs to be clarified\n{{Isotope Number}} : Column {{? (3 or 4) .. 6}} Lower bound needs to be clarified\n{{Element Count}} : Column {{7 .. 10}}\n\nExamples:\n\n{{C....01016}} : Represents Carbon without isotope specification represented by 0 and 1016 occurrences \n{{Pu.238...1}} : Represents Plutonium with isotope number 238 and 1 occurrence\n{{O...16...2}} : Represents Oxygen with isotope number 16 and 2 occurrences\n{{Cl...0...2}} : Represents Chlorine without isotope specification represented by 0 and 2 occurrences\n\nFor fields {{ID_.IFB}} ({{IDE.IMF}}), {{ID_.IFC}} ({{IDE.IHSF}}) the value is a concatenation of individual element representations\n\n\n\n*Acceptance Criteria*\n\n* Values for fields {{ID_.IFB}} ({{IDE.IMF}}), {{ID_.IFC}} ({{IDE.IHSF}}), {{ID_.IFD}} ({{IDE.IELC}}) are converted according to these rules\n** {{Element Symbol}} columns\n*** Strip dots\n*** Keep character cases as are\n** {{Element Count}} columns\n*** Strip dots\n*** Strip 1 if count is equal 1 indicating single occurrence \n** Concatenate {{Element Symbol}} and {{Element Count}} without delimiter\n** If space is included in Fulgor value then replace space by “{{*}}\" as fragment delimiter\n\n*Conversion Examples:*\n\n|| ||*Fulgor Value*||*Expected DAL Response Value*||\n|*(XRN=16129203)*| | |\n|MolecularFormula ({{IDE.MF}})|{{B.....1H.....3 C.....2H.....3N.....1}}|{{BH3*C2H3N}}|\n|HillFormula ({{IDE.HSF}})|{{C.....2H.....6B.....1N.....1}}|{{C2H6BN}}|\n|FragmentMolecularFormula ({{IDE.FMF}})|{{B.....1H.....3}}\n{{C.....2H.....3N.....1}}|{{BH3}}\n{{C2H3N}}|\n|ElementCounts ({{IDE.ELC}})|{{C.....2}}\n{{H.....6}}\n{{B.....1}}\n{{N.....1}}|{{C2}}\n{{H6}}\n{{B}}\n{{N}}|\n|*Busulfan Carmustine Imatinib (XRN=36337093)*| | |\n|MolecularFormula ({{IDE.MF}})|{{C.....5H.....9Cl....2N.....3O.....2 C.....6H....14O.....6S.....2 C....29H....31N.....7O.....1}}|{{C5H9Cl2N3O2*C6H14O6S2*C29H31N7O}}|\n|HillFormula ({{IDE.HSF}})|{{C....40H....54Cl....2N....10O.....9S.....2}}|{{C40H54Cl2N10O9S2}}|\n|FragmentMolecularFormula ({{IDE.FMF}})|{{C.....6H....14O.....6S.....2}}\n{{C.....5H.....9Cl....2N.....3O.....2}}\n{{C....29H....31N.....7O.....1}}|{{C6H14O6S2}}\n{{C5H9Cl2N3O2}}\n{{C29H31N7O}}|\n|ElementCounts ({{IDE.ELC}})|{{C....40}}\n{{H....54}}\n{{Cl....2}}\n{{N....10}}\n{{O.....9}}\n{{S.....2}}|{{C40}}\n{{H54}}\n{{Cl2}}\n{{N10}}\n{{O9}}\n{{S2}}|\n|*(XRN=17489684)*| | |\n|MolecularFormula ({{IDE.MF}})|{{C..1016H..1136N....62P....64}}|{{C1016H1136N62P64}}|\n|HillFormula ({{IDE.HSF}})|{{C..1016H..1136N....62P....64}}|{{C1016H1136N62P64}}|\n|FragmentMolecularFormula ({{IDE.FMF}})|{{C..1016H..1136N....62P....64}}|{{C1016H1136N62P64}}|\n|ElementCounts ({{IDE.ELC}})|{{C..1016}}\n{{H..1136}}\n{{N....62}}\n{{P....64}}|{{C1016}}\n{{H1136}}\n{{N62}}\n{{P64}}|\n|*(238)plutonium dioxide (XRN=16926681)*| | |\n|MolecularFormula ({{IDE.MF}})|{{O.....2Pu....1}}|{{O2Pu}}|\n|HillFormula ({{IDE.HSF}})|{{O.....2Pu....1}}|{{O2Pu}}|\n|FragmentMolecularFormula ({{IDE.FMF}})|{{O.....2Pu....1}}|{{O2Pu}}|\n|ElementCounts ({{IDE.ELC}})|{{O.....2}}\n{{Pu....1}}|{{O2}}\n{{Pu}}|\n\n* Values for fields {{ID_.IFB}} ({{IDE.IMF}}), {{ID_.IFC}} ({{IDE.IHSF}}) are converted according to these rules\n** {{Element Symbol}} columns\n*** Strip dots\n*** Keep character cases as are\n** {{Isotope Number}} columns\n*** Strip dots\n*** Strip zero if isotope number is zero indicating that isotope is not specified\n** {{Element Count}} columns\n*** Strip dots\n*** Strip 1 if count is equal 1 indicating single occurrence \n** Concatenate elements like  ({{Isotope Number}}){{Element SymbolElement Count}}\n*** {{Isotope Number}} is placed in parenthesis\n** If space is included in Fulgor value then replace space by “{{*}}\" as fragment delimiter\n\n|| ||*Fulgor Value*||*Expected DAL Response Value*||\n|*(XRN=16129203)*| | |\n|MolecularFormulaWithIsotopes ({{IDE.IMF}})|{{B...10...1H....2...3 C....0...2H....2...3N....0...1}}|{{(10)B(2)H3*C2(2)H3N}}|\n|HillFormulaWithIsotopes ({{IDE.IHSF}})|{{C....0...2H....2...6B...10...1N....0...1}}|{{C2(2)H6(10)BN}}|\n|ElementCountsWithIsotopes ({{IDE.IELC}})|{{C....0...2}}\n{{H....2...6}}\n{{B...10...1}}\n{{N....0...1}}|{{C2}}\n{{(2)H6}}\n{{(10)B}}\n{{N}}|\n|*Busulfan Carmustine Imatinib (XRN=36337093)*| | |\n|MolecularFormulaWithIsotopes ({{IDE.IMF}})|{{C....0...5H....0...9Cl...0...2N....0...3O....0...2 C....0...6H....0..14O....0...6S....0...2 C....0..29H....0..31N....0...7O....0...1}}|{{C5H9Cl2N3O2*C6H14O6S2*C29H31N7O}}|\n|HillFormulaWithIsotopes ({{IDE.IHSF}})|{{C....0..40H....0..54Cl...0...2N....0..10O....0...9S....0...2}}|{{C40H54Cl2N10O9S2}}|\n|ElementCountsWithIsotopes ({{IDE.IELC}})|{{C....0..40}}\n{{H....0..54}}\n{{Cl...0...2}}\n{{N....0..10}}\n{{O....0...9}}\n{{S....0...2}}|{{C40}}\n{{H54}}\n{{Cl2}}\n{{N10}}\n{{O9}}\n{{S2}}|\n|*(XRN=17489684)*| | |\n|MolecularFormulaWithIsotopes ({{IDE.IMF}})|{{C....01016H....01136N....0..62P....0..64}}|{{C1016H1136N62P64}}|\n|HillFormulaWithIsotopes ({{IDE.IHSF}})|{{C....01016H....01136N....0..62P....0..64}}|{{C1016H1136N62P64}}|\n|ElementCountsWithIsotopes ({{IDE.IELC}})|{{C....01016}}\n{{H....01136}}\n{{N....0..62}}\n{{P....0..64}}|{{C1016}}\n{{H1136}}\n{{N62}}\n{{P64}}|\n|*(238)plutonium dioxide (XRN=16926681)*| | |\n|MolecularFormulaWithIsotopes ({{IDE.IMF}})|{{O...16...2Pu.238...1}}|{{(16)O2(238)Pu}}|\n|HillFormulaWithIsotopes ({{IDE.IHSF}})|{{O...16...2Pu.238...1}}|{{(16)O2(238)Pu}}|\n|ElementCountsWithIsotopes ({{IDE.IELC}})|{{O...16...2}}\n{{Pu.238...1}}|{{(16)O2}}\n{{(238)Pu}}|",
    "status": "To Do",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-13341",
    "summary": "DAL - Investigate support for sorting by non-core facts with primitive, range, and list of primitive types",
    "description": "*Acceptance Criteria*\n\n* Design for sorting by non single value types (non-core entities, range types, list of primitives) is defined\n* Design documentation is attached to this ticket\n\nExamples for non-single value properties are described under Background. The design shall describe for these examples how sorting on resource level (substance, reaction, etc) can be enabled e.g.\n\n* {{data/Substances?$orderby=Availabilities asc}}\n* {{data/Substances?$orderby=MeltingPoints/MeltingPointValue/Value desc}} or {{data/Substances?$expand=MeltingPoints&$orderby=MeltingPoints/MeltingPointValue/Value desc}}\n\n*Background*\n\nThe existing XML server API supports sorting by properties that are modeled in DAL as non-single value types such as\n\n* {{Collection(Edm.String)}} for properties on resource level\n** Availabilities ({{IDE.AVAIL}})  jsonpath: {{data.Substances[*].Availabilities[*]}}\n** SubstanceEffects ({{DAT.EFFECT)}} jsonpath: {{data.Datapoints[*].SubstanceEffects[*]}}\n* {{Collection(Edm.String)}} for properties of non-core fact collections\n** PrototypeReactions {{(RXD.PRT)}} jsonpath: {{data.Reactions[*].ReactionDetails[*].PrototypeReactions[*]}}\n** ReagentCatalyst {{(RXD.RGTCAT)}} jsonpath: {{data.Reactions[*].ReactionDetails[*].ReagentCatalyst[*]}}\n** EcotoxicologyEffects {{(ECT.E)}} jsonpath: {{data.Substances[*].Ecotoxicologies[*].EcotoxicologyEffects[*]}}\n* {{Edm.Decimal}}  for properties of non-core fact collections\n** LogP {{(CALC.LOGP)}} jsonpath: {{data.Substances[*].Druglikenesses[*].LogP}}\n** PublicationYear {{CIT.PY)}} jsonpath: {{data.Citations[*].CitationJournal[*].PublicationYear}}\n** MeasuredSubstanceRn {{(DAT.MCRN)}} jsonpath: {{data.Datapoints[*].DatapointCompound[*].MeasuredSubstanceRn}}\n* {{Edm.Int64}} for properties of subset collections\n** SubstanceRn {{(DAT.MRN)}} jsonpath: {{data.Datapoints[*].DatapointSubstance[*].SubstanceRn}}\n* {{Edm.String}} for properties of subset collections\n** TargetShortKeyBioactivity {{(DAT.TSKEY)}} jsonpath:  {{data.Datapoints[*].DatapointTarget[*].TargetShortKeyBioactivity}}\n* {{Edm.String}}  for properties of non-core fact collections\n** YieldValue {{(RXD.YD)}} jsonpath: {{ data.Reactions[*].ReactionDetails[*].ReactionDetailYield[*].YieldValue}}\n** ReactionDetailsSolvent {{(RXD.SOL)}} jsonpath  {{data.Reactions[*].ReactionDetails[*].ReactionDetail5[*].ReactionDetailsSolvent}}\n** TypeKeywords {{(KWD.TYP)}} jsonpath: {{data.Citations[*].Keywords[*].TypeKeywords}}\n* {{data.XfireNumericRange}}\n** YieldNumerical {{(RXD.NYD)}} jsonpath: {{data.Reactions[*].ReactionDetails[*].ReactionDetailYield[*].YieldNumerical}}\n** MeltingPointValue {{(MP.MP)}} jsonpath: {{ data.Substances[*].MeltingPoints[*].MeltingPointValue}}",
    "status": "Draft",
    "assignee": "Aliaksandr Zuyevich",
    "priority": "3-Medium",
    "issue_type": "Spike",
    "comments": []
  },
  {
    "key": "RX-13349",
    "summary": "DAL - Support sorting datapoints",
    "description": "*Story*\n\nWhen retrieving datapoints\nI want to order the returned datapoint records by datapoint properties\nSo that I can examine the most relevant records at the top of the list\n\n*Acceptance Criteria*\n\nRequest\n\n* shall allow to order datapoints records by sortable fulgor fields\n* shall allow to order by multiple sortable fields in one request\n* shall allow to specify asc or desc as order\n* shall sort in ascending order by default if asc or desc is not specified\n* shall allow to order by primitive resource properties\n* Example requests\n** {{data/Datapoints?$orderby=TargetNameUniprotIdPdbId asc, MeasurementPx desc}}\n\nResponse\n\n* Datapoints are order according to the specified criteria\n\n\n\nList of sortable substance fields\n\n|*OData Name*|*XML Server Field*|*Code*|\n|*_Must have primitive sort fields_*| | |\n|MedChemId|[DAT.ID|http://DAT.ID]|DP1|\n|MedChemEntryDate|DAT.ED|DQ8|\n|MedChemUpdateDate|DAT.UPD|DQ9|\n|TargetNameUniprotIdPdbId|DAT.TNAME|DPE|\n|MeasurementPx|DAT.PAUREUS|DPI|\n|TargetSpeciesBioactivity|DAT.TSPECIE|DPF|\n|*_Nice to have sort fields_*| | |\n|MedChemSource|DAT.SRC|DPY|\n|ExternalProvider|DAT.PVD|DQ6|\n|ControlPointId|DAT.CTL|DPM|\n|TargetIdBioactivity|DAT.TID|DPD|\n|TargetKeyBioactivity|DAT.TKEY|DQM|\n|TargetShortKeyBioactivity|DAT.TSKEY|DQN|\n|SubstanceRn|DAT.MRN|DP2|\n|SubstanceRouteOfAdm|DAT.MROUTE|DQD|\n|SubstanceActionOnTarget|DAT.ACTTRG|DQT|\n|SubstanceEffects|DAT.EFFECT|DP8|\n|BioassayId|DAT.AID|DP6|\n|BioassayCategory|DAT.CATEG|DPT|\n|BioassaySubcategory|DAT.AFTYPE|DPS|\n|BioassayName|DAT.ANAME|DP7|\n|BioassayAnimalModel|DAT.MODEL|DQG|\n|BiologicalMaterialId|DAT.BID|DP9|\n|BiologicalSpeciesNcbiId|DAT.BSPECIE|DPC|\n|OrgansTissues|DAT.BTISSUE|DQC|\n|CellsCellLines|DAT.BCELL|DPB|\n|MeasurementId|DAT.MID|DP5|\n|MeasurementParameter|DAT.VTYPE|DPQ|\n|MeasuredSubstanceRn|DAT.MCRN|DQX|\n|MedChemMeasuredSubstanceName|DAT.MCNAME|DQY|\n|MedChemMeasuredProtein|DAT.MPROT|DQZ|\n|PXRanges|DAT.PRANGES|Z_D|",
    "status": "Draft",
    "assignee": "Unassigned",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-11490",
    "summary": "Fields to be removed from DAL schema",
    "description": "Below are the known fields that give 500 error due to license issue. Potentially they need to be removed from DAL schema.\n\nXA_.XA0\nXA_.XAY\nXA_.XA1\nXA_.XA2\nXA_.XA3\nXA_.XA4\nXA_.XA5\nXA_.XA6\nXA_.XA7\nXA_.XA8\nXA_.XA9\nXA_.XAA\nXA_.XAB\nXA_.XAC\nXA_.XAD\nXA_.XAE\nXA_.XAF\nXA_.XAG\nXA_.XAV\nXA_.XAW\nXA_.XAZ\nXA_.XAX\n\nXY_.XY0\nXY_.XYY\nXY_.XY1\nXY_.XY2\nXY_.XY3\nXY_.XY4\nXY_.XY5\nXY_.XY6\nXY_.XY7\nXY_.XY8\nXY_.XY9\nXY_.XYA\nXY_.XYB\nXY_.XYC\nXY_.XYD\nXY_.XYE\nXY_.XYF\nXY_.XYV\nXY_.XYW\nXY_.XYZ\nXY_.XYX\n\n\n\nNote - the above fields are from facts XA_ or XY_. On removing array fields from schema the other fields are returned as null.",
    "status": "Draft",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Helge Kränz",
        "created": "2024-05-21T15:08:58.480+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed] : The filtering of such contexts or facts is not included in the database. And this is something we should not include in the data structure since the data structure doesn’t know about licenses and should not include this. This would have massive impact on the processes and may lead to changes in the fabrication and/or impserv/expserv. "
      },
      {
        "author": "Markus Fischer",
        "created": "2024-05-17T14:21:42.161+0100",
        "body": "[~accountid:557058:a3ed26b1-db46-4e4a-9fae-1df29369e903], [~accountid:63da0be8790148a180939aff] we can NOT remove the fields that are under the classic license.\n\n[~accountid:557058:a3ed26b1-db46-4e4a-9fae-1df29369e903] , does the ds Excel contain information about the license field type as the rx.xsd does:\ne.g.\n\n{noformat}<title name=\"PED\" parent=\"\" display=\"Bioactivity\" permit=\"Reaxys\" deny=\"ReaxysMedChem\">\n  <fact name=\"PHARM\" parent=\"PED\" display=\"Pharmacological Data\"/>\n  <fact name=\"ECT\" parent=\"PED\" display=\"Ecotoxicology\"/>\n</title>{noformat}\n\nwe would need this information to include/exclude facts based on the license\n\nIf not this could be another case for a new column in the ds Excel.\n\ncc [~accountid:557058:4f44ccc0-2c6f-4ade-97ba-c8efed88e4b2] "
      },
      {
        "author": "Michael Maier",
        "created": "2024-05-17T11:17:43.628+0100",
        "body": "will discuss this with [~accountid:5a4d1d091e82dd081aaea3ed]  and the rest of the team\nPHARM and Ecotox do contain data and these data is avaiable to the customers with a classic reaxys license (without RTB) "
      },
      {
        "author": "Helge Kränz",
        "created": "2024-05-16T18:00:14.252+0100",
        "body": "[~accountid:557058:4f44ccc0-2c6f-4ade-97ba-c8efed88e4b2] : Please confirm that the facts \"Pharmacological Data” (PHARM, XA_) and “Ecotoxicology” (ECT and XY_) are no longer required. This is a decision of product management."
      },
      {
        "author": "Alec Fraser",
        "created": "2024-05-16T11:36:23.660+0100",
        "body": "[~accountid:557058:a3ed26b1-db46-4e4a-9fae-1df29369e903] could you please review and provide an estimate."
      }
    ]
  },
  {
    "key": "RX-14860",
    "summary": "data-server has to handle distinct numeric data types: whole and real numbers. ",
    "description": "After [https://elsevier.atlassian.net/browse/RX-12115|https://elsevier.atlassian.net/browse/RX-12115|smart-link]  is completed there will be different numeric types: Integer (whole number) and Decimal (numbers with fraction part). \nSchemaParser and SchemaBuilder should be able to handle these new data types while generation model.json\nAnd data-server has to create {{RelDataType}} with *scale* value for Decimal data types, more details here: [https://elsevier.atlassian.net/browse/RX-14793?focusedCommentId=6030525|https://elsevier.atlassian.net/browse/RX-14793?focusedCommentId=6030525|smart-link] \n\n[^DECIMAL_with_Scale.patch]\n\n",
    "status": "To Do",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-04-25T12:17:54.174+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed]  please find the report containing fields with proposed data type that differ from the current types.\n [^discrepancies_no_range_with_names.xlsx] "
      }
    ]
  },
  {
    "key": "RX-15619",
    "summary": "Invalid Request (400) Returned for Sequential API Calls after Initial Success (200)",
    "description": "For the performance test scenario 1 [https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601793277684/Performance+Scenario+1|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601793277684/Performance+Scenario+1|smart-link] when a workflow is run where a single user sends multiple requests in sequence to {{/data/Reactions}} with the same odata query containing 199 reaction IDs then sends requests in sequence to {{/data/Substances/data.SearchByMolecule}}, it’s being observed that the first request(Reaction) returns 200 status code but the subsequent calls(Reaction + Substance) return 400 Bad Request.\n\nThe same occurs when sending different reaction queries in subsequent calls as well.\n\n!image-20250311-105537.png|width=50%,alt=\"image-20250311-105537.png\"!\n\nReaction odata query containing 199 ReactionId:\n\n{noformat}/data/Reactions?$filter=(ReactionId eq 57692) or (ReactionId eq 436457) or (ReactionId eq 436448) or (ReactionId eq 436704) or (ReactionId eq 436728) or (ReactionId eq 436994) or (ReactionId eq 437024) or (ReactionId eq 437042) or (ReactionId eq 437249) or (ReactionId eq 437288) or (ReactionId eq 437639) or (ReactionId eq 437917) or (ReactionId eq 438205) or (ReactionId eq 438204) or (ReactionId eq 439854) or (ReactionId eq 440625) or (ReactionId eq 442509) or (ReactionId eq 442763) or (ReactionId eq 443094) or (ReactionId eq 443455) or (ReactionId eq 443827) or (ReactionId eq 443830) or (ReactionId eq 443826) or (ReactionId eq 444114) or (ReactionId eq 444145) or (ReactionId eq 446030) or (ReactionId eq 446057) or (ReactionId eq 445995) or (ReactionId eq 446022) or (ReactionId eq 446331) or (ReactionId eq 446399) or (ReactionId eq 446406) or (ReactionId eq 446658) or (ReactionId eq 446706) or (ReactionId eq 446984) or (ReactionId eq 447134) or (ReactionId eq 447741) or (ReactionId eq 447747) or (ReactionId eq 447822) or (ReactionId eq 447789) or (ReactionId eq 448177) or (ReactionId eq 448178) or (ReactionId eq 448199) or (ReactionId eq 448239) or (ReactionId eq 448267) or (ReactionId eq 448231) or (ReactionId eq 448247) or (ReactionId eq 448565) or (ReactionId eq 448602) or (ReactionId eq 448797) or (ReactionId eq 448950) or (ReactionId eq 449236) or (ReactionId eq 449250) or (ReactionId eq 449254) or (ReactionId eq 449270) or (ReactionId eq 449257) or (ReactionId eq 449309) or (ReactionId eq 450056) or (ReactionId eq 450128) or (ReactionId eq 788552) or (ReactionId eq 789275) or (ReactionId eq 806522) or (ReactionId eq 807870) or (ReactionId eq 807926) or (ReactionId eq 807924) or (ReactionId eq 807930) or (ReactionId eq 808832) or (ReactionId eq 813067) or (ReactionId eq 451724) or (ReactionId eq 451831) or (ReactionId eq 451888) or (ReactionId eq 452236) or (ReactionId eq 452238) or (ReactionId eq 452417) or (ReactionId eq 452538) or (ReactionId eq 452654) or (ReactionId eq 452829) or (ReactionId eq 452918) or (ReactionId eq 452951) or (ReactionId eq 453217) or (ReactionId eq 450134) or (ReactionId eq 450445) or (ReactionId eq 450527) or (ReactionId eq 450495) or (ReactionId eq 450524) or (ReactionId eq 450809) or (ReactionId eq 451022) or (ReactionId eq 451024) or (ReactionId eq 451020) or (ReactionId eq 451351) or (ReactionId eq 451550) or (ReactionId eq 451725) or (ReactionId eq 448565) or (ReactionId eq 448602) or (ReactionId eq 448797) or (ReactionId eq 448950) or (ReactionId eq 449236) or (ReactionId eq 449250) or (ReactionId eq 449254) or (ReactionId eq 449270) or (ReactionId eq 449257) or (ReactionId eq 449309) or (ReactionId eq 450056) or (ReactionId eq 450128) or (ReactionId eq 447134) or (ReactionId eq 447741) or (ReactionId eq 447747) or (ReactionId eq 447822) or (ReactionId eq 447789) or (ReactionId eq 448177) or (ReactionId eq 448178) or (ReactionId eq 448199) or (ReactionId eq 448239) or (ReactionId eq 448267) or (ReactionId eq 448231) or (ReactionId eq 448247) or (ReactionId eq 444114) or (ReactionId eq 444145) or (ReactionId eq 446030) or (ReactionId eq 446057) or (ReactionId eq 445995) or (ReactionId eq 446022) or (ReactionId eq 446331) or (ReactionId eq 446399) or (ReactionId eq 446406) or (ReactionId eq 446658) or (ReactionId eq 446706) or (ReactionId eq 446984) or (ReactionId eq 437917) or (ReactionId eq 438205) or (ReactionId eq 438204) or (ReactionId eq 439854) or (ReactionId eq 440625) or (ReactionId eq 442509) or (ReactionId eq 442763) or (ReactionId eq 443094) or (ReactionId eq 443455) or (ReactionId eq 443827) or (ReactionId eq 443830) or (ReactionId eq 443826) or (ReactionId eq 436294) or (ReactionId eq 436455) or (ReactionId eq 436457) or (ReactionId eq 436448) or (ReactionId eq 436704) or (ReactionId eq 436728) or (ReactionId eq 436994) or (ReactionId eq 437024) or (ReactionId eq 437042) or (ReactionId eq 437249) or (ReactionId eq 437288) or (ReactionId eq 437639) or (ReactionId eq 433115) or (ReactionId eq 433349) or (ReactionId eq 433692) or (ReactionId eq 435854) or (ReactionId eq 435987) or (ReactionId eq 436072) or (ReactionId eq 436075) or (ReactionId eq 436151) or (ReactionId eq 436211) or (ReactionId eq 436264) or (ReactionId eq 436290) or (ReactionId eq 436293) or (ReactionId eq 430823) or (ReactionId eq 431103) or (ReactionId eq 431620) or (ReactionId eq 431830) or (ReactionId eq 431922) or (ReactionId eq 432073) or (ReactionId eq 432102) or (ReactionId eq 432279) or (ReactionId eq 432334) or (ReactionId eq 432462) or (ReactionId eq 432686) or (ReactionId eq 433152) or (ReactionId eq 425588) or (ReactionId eq 425890) or (ReactionId eq 426274) or (ReactionId eq 426331) or (ReactionId eq 426767) or (ReactionId eq 428433) or (ReactionId eq 428437) or (ReactionId eq 429018) or (ReactionId eq 430151) or (ReactionId eq 430160) or (ReactionId eq 430552) or (ReactionId eq 430608) or (ReactionId eq 421035) or (ReactionId eq 421417) or (ReactionId eq 421806) or (ReactionId eq 421810) or (ReactionId eq 422173) or (ReactionId eq 422169) or (ReactionId eq 422353) or (ReactionId eq 423320) or (ReactionId eq 424092) or (ReactionId eq 424637) or (ReactionId eq 425383)&$expand=ReactionDetails,Products($expand=Structures),Reactants($expand=Structures),Citations($expand=Abstracts,PatentBibliographies;$top=100)&$top=70{noformat}\n\nSubstance odata query:\n\n{noformat}/data/Substances/data.SearchByMolecule&$top=1{noformat}\n\nBody:\n\n{noformat}{\n    \"structure\": \"\\n  Mrv2219 09172422422D          \\n\\n  0  0  0     0  0            999 V3000\\nM  V30 BEGIN CTAB\\nM  V30 COUNTS 37 36 0 0 0\\nM  V30 BEGIN ATOM\\nM  V30 1 N 15.9995 13.8509 0 0\\nM  V30 2 C 17.3251 14.619 0 0\\nM  V30 3 C 14.6647 14.619 0 0\\nM  V30 4 C 15.9995 12.315 0 0\\nM  V30 5 C 18.6599 13.8509 0 0\\nM  V30 6 C 13.3299 13.8509 0 0\\nM  V30 7 C 14.6647 11.5379 0 0\\nM  V30 8 C 19.9947 14.619 0 0\\nM  V30 9 C 11.9951 14.619 0 0\\nM  V30 10 C 14.6647 10.002 0 0\\nM  V30 11 C 21.3297 13.8509 0 0\\nM  V30 12 C 10.6602 13.8509 0 0\\nM  V30 13 C 13.3299 9.234 0 0\\nM  V30 14 C 22.6645 14.619 0 0\\nM  V30 15 C 9.3254 14.619 0 0\\nM  V30 16 C 13.3299 7.689 0 0\\nM  V30 17 C 23.9993 13.8509 0 0\\nM  V30 18 C 7.9998 13.8509 0 0\\nM  V30 19 C 11.9951 6.9209 0 0\\nM  V30 20 C 25.3249 14.619 0 0\\nM  V30 21 C 6.6649 14.619 0 0\\nM  V30 22 C 11.9951 5.385 0 0\\nM  V30 23 C 26.6597 13.8509 0 0\\nM  V30 24 C 5.33 13.8509 0 0\\nM  V30 25 C 10.6602 4.6169 0 0\\nM  V30 26 C 27.9945 14.619 0 0\\nM  V30 27 C 3.9952 14.619 0 0\\nM  V30 28 C 10.6602 3.0719 0 0\\nM  V30 29 C 29.3293 13.8509 0 0\\nM  V30 30 C 2.6605 13.8509 0 0\\nM  V30 31 C 9.3254 2.304 0 0\\nM  V30 32 C 30.6641 14.619 0 0\\nM  V30 33 C 1.3257 14.619 0 0\\nM  V30 34 C 9.3254 0.768 0 0\\nM  V30 35 C 31.9988 13.8509 0 0\\nM  V30 36 C 0 13.8509 0 0\\nM  V30 37 C 7.9998 0 0 0\\nM  V30 END ATOM\\nM  V30 BEGIN BOND\\nM  V30 1 1 1 2\\nM  V30 2 1 1 3\\nM  V30 3 1 1 4\\nM  V30 4 1 2 5\\nM  V30 5 1 3 6\\nM  V30 6 1 4 7\\nM  V30 7 1 5 8\\nM  V30 8 1 6 9\\nM  V30 9 1 7 10\\nM  V30 10 1 8 11\\nM  V30 11 1 9 12\\nM  V30 12 1 10 13\\nM  V30 13 1 11 14\\nM  V30 14 1 12 15\\nM  V30 15 1 13 16\\nM  V30 16 1 14 17\\nM  V30 17 1 15 18\\nM  V30 18 1 16 19\\nM  V30 19 1 17 20\\nM  V30 20 1 18 21\\nM  V30 21 1 19 22\\nM  V30 22 1 20 23\\nM  V30 23 1 21 24\\nM  V30 24 1 22 25\\nM  V30 25 1 23 26\\nM  V30 26 1 24 27\\nM  V30 27 1 25 28\\nM  V30 28 1 26 29\\nM  V30 29 1 27 30\\nM  V30 30 1 28 31\\nM  V30 31 1 29 32\\nM  V30 32 1 30 33\\nM  V30 33 1 31 34\\nM  V30 34 1 32 35\\nM  V30 35 1 33 36\\nM  V30 36 1 34 37\\nM  V30 END BOND\\nM  V30 END CTAB\\nM  END\\n\",\n    \"searchMode\": \"exact\"\n}{noformat}\n\nIf I run a query with fewer ReactionIds (around 50) instead of the one above (199), all calls return 200.\n\n ",
    "status": "Draft",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Srikanta Patanjali",
        "created": "2025-04-01T10:14:51.934+0100",
        "body": "Markus to check the correctness of the MOL file and the query in general for the one which is mentioned in the description"
      }
    ]
  },
  {
    "key": "RX-14282",
    "summary": "DAL: AND Operator for Collection field on the same field causes 500 Error",
    "description": "When using the {{AND}} operator in an OData query with multiple conditions targeting the same field within an {{any}} clause, the system generates an invalid SQL query.\n\n*Example:*\nOData Query:\n\ncase#1\n\n {{data/Substances?$filter=NmrSpectroscopies/any(n:n/NmrSpectroscopyNuclei/any(nu:nu eq '14N' and nu eq '2D'))&$expand=NmrSpectroscopies($filter=NmrSpectroscopyNuclei/any(nu:nu eq '14N' and nu eq '2D'))}}\n\n*Expected result:* [https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601847992754/Substances+Example+Scenarios+HITONLY+specific#Scenario---Inner-and-Outer-Two-Value-Filter-with-AND|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601847992754/Substances+Example+Scenarios+HITONLY+specific#Scenario---Inner-and-Outer-Two-Value-Filter-with-AND|smart-link] \n\ncase#2\n\n{{/data/Substances?$filter=ChemicalNames/any(p:p eq 'tramadol' and p eq 'Ultram')}}\n\n*Expected result:*\nDAL should correctly process the {{AND}} operator within the {{any}} clause and generate a valid SQL query that evaluates both conditions. Response should contain 1 substance with ReaxysRegistryNumber = 6570626\n\n!image-20241122-131322.png|width=970,height=458,alt=\"image-20241122-131322.png\"!\n\n*Actual result:*\nDAL attempts to process the query but fails during SQL translation. HTTP Status code = 500\n\n{noformat}{\n\t\"error\": {\n\t\t\"code\": null,\n\t\t\"message\": \"JDBC exception executing SQL [select s1_0.\\\"INCHA\\\",s1_0.\\\"HASBIO\\\",s1_0.\\\"UPD\\\",s1_0.\\\"MW\\\",s1_0.\\\"SUBAVAIL\\\",s1_0.\\\"REG\\\",s1_0.\\\"NA\\\",s1_0.\\\"TAUTID\\\",s1_0.\\\"MF\\\",s1_0.\\\"NC\\\",s1_0.\\\"NF\\\",s1_0.\\\"XRN\\\",s1_0.\\\"NE\\\",s1_0.\\\"INE\\\",s1_0.\\\"MOFO\\\",s1_0.\\\"AUN\\\",s1_0.\\\"NI\\\",s1_0.\\\"INCHI\\\",s1_0.\\\"MAXPUB\\\",s1_0.\\\"MARKREF\\\",s1_0.\\\"NUMREF\\\",s1_0.\\\"IHSF\\\",s1_0.\\\"LSF\\\",s1_0.\\\"CONSID\\\",s1_0.\\\"TYPMOD\\\",s1_0.\\\"ED\\\",s1_0.\\\"CHA\\\",s1_0.\\\"FULLRXNS\\\",s1_0.\\\"IMF\\\",s1_0.\\\"FA\\\",s1_0.\\\"HSF\\\" from \\\"SUBSTANCES\\\".\\\"IDE\\\" s1_0 where exists(select n1_0.\\\"XRN\\\" from \\\"SUBSTANCES\\\".\\\"NMR\\\" n1_0 where n1_0.\\\"XRN\\\"=s1_0.\\\"XRN\\\" and exists(select n2_0.\\\"NMR_VIRTUAL_ID\\\" from \\\"SUBSTANCES\\\".\\\"NMR_NUC_\\\" n2_0 where n2_0.\\\"NMR_VIRTUAL_ID\\\"=n1_0.\\\"NMR_VIRTUAL_ID\\\" and n2_0.\\\"NMR_NUC\\\"=? and n2_0.\\\"NMR_NUC\\\"=?)) order by 12 offset ? rows fetch first ? rows only] [Error -1 (00000) : Remote driver error: IllegalStateException: java.lang.RuntimeException: java.sql.SQLException: exception while executing query: Cannot invoke \\\"org.apache.calcite.sql.SqlNode.toSqlString(java.util.function.UnaryOperator)\\\" because \\\"node\\\" is null -> RuntimeException: java.sql.SQLException: exception while executing query: Cannot invoke \\\"org.apache.calcite.sql.SqlNode.toSqlString(java.util.function.UnaryOperator)\\\" because \\\"node\\\" is null -> SQLException: exception while executing query: Cannot invoke \\\"org.apache.calcite.sql.SqlNode.toSqlString(java.util.function.UnaryOperator)\\\" because \\\"node\\\" is null -> NullPointerException: Cannot invoke \\\"org.apache.calcite.sql.SqlNode.toSqlString(java.util.function.UnaryOperator)\\\" because \\\"node\\\" is null] [n/a]\"\n\t}\n}{noformat}\n\n*NOTE*: Before we can work on fixing this problem, we need to understand whether the DAL should support such queries, [~accountid:5a4d1d091e82dd081aaea3ed] could you please take a look?\n\nAdditional test cases:\n\n⚠️ *This issue also applies to RangeType:*\n\n{{/data/Substances?$filter=Densities/any(n:n/DensityValue eq '1.41' and n/DensityValue eq '1.2992')&$expand=Densities($filter=DensityValue eq '1.41' and DensityValue eq '1.2992')}}\n\n{{/data/Substances?$filter=ElectricalMoments/any(n:n/ElectricalMomentValue eq '0.79' and n/ElectricalMomentValue eq '0.8')&$expand=ElectricalMoments($filter=ElectricalMomentValue eq '0.79' and ElectricalMomentValue eq '0.8')}}",
    "status": "To Do",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Srikanta Patanjali",
        "created": "2025-04-29T10:16:59.993+0100",
        "body": "Markus: To check if the queries which have been reported are used in real world scenarios. "
      }
    ]
  },
  {
    "key": "RX-16334",
    "summary": "DAL- QA: Data validation-Targets: Golden Source Examples and Fabrication",
    "description": "Need assistance in preparing an example of a golden source for data validation testing and fabricating mocked data for a dataset in the context of Targets. Values for each key should be:\n\n* unique\n* non-null or empty\n* correspond with the correct data type",
    "status": "To Do",
    "assignee": "Xiaoyan Wu",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Marina Al-Jarakh",
        "created": "2025-10-10T13:04:05.406+0100",
        "body": "Hi [~accountid:60245b746180010069b82e8c] , could you kindly review the DAL values for the _Targets_ context (in the DAL non-prod environment {{RX713026RX}}) in the attached.xls file [^targets_all_for_QA_review.xlsx]  \n\nBased on your review, I will proceed with my QE ticket [https://elsevier.atlassian.net/browse/RX-16335|https://elsevier.atlassian.net/browse/RX-16335|smart-link]  (adding or updating data) and create bug tickets if required. Thanks"
      },
      {
        "author": "Xiaoyan Wu",
        "created": "2025-07-10T16:17:29.328+0100",
        "body": "summary and statistics among 4 envs, [^targets_all.xlsx] fyi [~accountid:5a4d1d091e82dd081aaea3ed] [~accountid:6347d7f98bb342276b517a6d] "
      },
      {
        "author": "Xiaoyan Wu",
        "created": "2025-07-10T16:15:56.748+0100",
        "body": "[^TA18772.csv]\n[^TA18569.csv]\n[^TA18170.csv]\n[^TA14898.csv]\n[^TA18805.csv]\n\nfyi [~accountid:6347d7f98bb342276b517a6d] "
      }
    ]
  },
  {
    "key": "RX-16335",
    "summary": "DAL- QE: Data Validation QE test automation (Targets)",
    "description": "Implement a test that will compare the golden source with the actual DAL response.\n\nMain story: [https://elsevier.atlassian.net/browse/RX-12020|https://elsevier.atlassian.net/browse/RX-12020]\n\nQA: Ticket [https://elsevier.atlassian.net/browse/RX-16334|https://elsevier.atlassian.net/browse/RX-16334|smart-link] ",
    "status": "In Progress",
    "assignee": "Marina Al-Jarakh",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Marina Al-Jarakh",
        "created": "2025-10-06T09:15:36.300+0100",
        "body": "(flag) Flag added \n\nTargets do not exist in dal qa env. [https://elsevier.atlassian.net/browse/RX-16334|https://elsevier.atlassian.net/browse/RX-16334|smart-link] "
      }
    ]
  },
  {
    "key": "RX-16600",
    "summary": "DAL - Addition of DAL specific columns to RCS and Pubchem ds Excels",
    "description": "*Background*\n\nFor building the DAL data models for RCS and Pubchem we require the addition of the DAL specific columns {{DAL Data Type}} and {{Subset Name}} to the reference ds Excel sheets. These columns have been already introduced for the Reaxys data schema *ds_rx4xf.xls* (RX-12065). The same changes shall now be applied also to the master versions of\n\n* *ds_pubchem4xfire.xls*\n* *ds_rcs4xf.xls*\n\nThe purpose of these columns is identical to the columns in ds_rx4xf.xls, i.e. {{DAL Data Type}} will be used to define the data types for the DAL models and {{Subset Name}} to customize the DAL entity names for subsets.\n\n*Acceptance Criteria*\n\n* data schema files *ds_pubchem4xfire.xls* and *ds_rcs4xf.xls* contain a new column for DAL data types:\n** column long name is “*DAL data type*”\n** column is inserted as column *AE* \n** column cells are formatted using the general Excel type\n* data schema files *ds_pubchem4xfire.xls* and *ds_rcs4xf.xls* contain a new column for subset names:\n** column long name is “*Subset Name*”\n** column is inserted as column *AF*\n** column cells are formatted using the general Excel type",
    "status": "Review",
    "assignee": "Markus Fischer",
    "priority": "1-Critical",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Elea Brinkjost",
        "created": "2025-09-26T08:20:24.376+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed] Was is left to be done?"
      },
      {
        "author": "Björn Wittich",
        "created": "2025-07-22T09:03:54.818+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed] \n\n[https://github.com/elsevier-health/reaxys-fabrication-dst-xref-spl/tree/rx-16600-pubchem|https://github.com/elsevier-health/reaxys-fabrication-dst-xref-spl/tree/rx-16600-pubchem|smart-link] \n[https://github.com/elsevier-health/reaxys-fabrication-dst-xref-spl/tree/rx-16600-rcs|https://github.com/elsevier-health/reaxys-fabrication-dst-xref-spl/tree/rx-16600-rcs|smart-link] "
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-14T13:27:59.492+0100",
        "body": "Columns have been added in *ds_pubchem4xfire.xls*, my tests have been running successfully:\n\n{noformat}$ check-ds -d pubchem -b rx-16600-pubchem\nChecking database pubchem\n========================================\nUsing explicitely given branch rx-16600-pubchem\nReading full configuration\nCreating specific configuration\nDefault branch is rx-16600-pubchem\nGetting data structure from git\n Getting data structure pubchem, branch rx-16600-pubchem from git\n Moving data structure to /mnt/disk/git/test/bza/database/pubchem/config\nConverting spreadsheets to ASCII\n Converting data structure ds_pubchem.xls to dbdir.tab\n Converting data structure ds_pubchem4xfire.xls to pu4xf.tab\n Converting xref pubchem2xfire.xls to pu2xf.xrf\nChecking XRefs\n Checking xref pu2xf\n  Created impserv config file\n  /mnt/disk/git/test/run/pubchem/pu2xf.cfg\n  Created order file\n  Running impserv\n  Impserv run successful\n  Comparing results\n  Comparision ok\n Xref pu2xf is ok\n========================================\nDatabase pubchem, branch rx-16600-pubchem is ok\n${noformat}"
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-14T12:51:21.124+0100",
        "body": "Columns have been added in *ds_rcs4xf.xls*, my tests have been running successfully: \n\n{noformat}$ check-ds -d rcs -b rx-16600-rcs\nChecking database rcs\n========================================\nUsing explicitely given branch rx-16600-rcs\nReading full configuration\nCreating specific configuration\nDefault branch is rx-16600-rcs\nGetting data structure from git\n Getting data structure rcs, branch rx-16600-rcs from git\n Moving data structure to /mnt/disk/git/test/bza/database/rcs/config\nConverting spreadsheets to ASCII\n Converting data structure ds_rcs4xf.xls to rcs4xf.tab\n Converting data structure ds_rcs_db.xls to dbdir.tab\n Extracting tables.tab and units.tab\n Converting xref innodata2rcs-additive.xls to innodata2rcs-additive.xrf\n Converting xref innodata2rcs-replacement.xls to innodata2rcs-replacement.xrf\n Converting xref rcs2xfire.xls to rcs2xfire.xrf\nChecking XRefs\n Checking xref in2db-additive\n  Created impserv config file\n  /mnt/disk/git/test/run/rcs/in2db-additive.cfg\n  Created order file\n  Running impserv\n  Impserv run successful\n  Comparing results\n  Comparision ok\n Xref in2db-additive is ok\n Checking xref in2db-replacement\n  Created impserv config file\n  /mnt/disk/git/test/run/rcs/in2db-replacement.cfg\n  Created order file\n  Running impserv\n  Impserv run successful\n  Comparing results\n  Comparision ok\n Xref in2db-replacement is ok\n Checking xref db2xf\n  Created impserv config file\n  /mnt/disk/git/test/run/rcs/db2xf.cfg\n  Created order file\n  Running impserv\n  Impserv run successful\n  Comparing results\n  Comparision ok\n Xref db2xf is ok\n========================================\nDatabase rcs, branch rx-16600-rcs is ok\n${noformat}"
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-14T08:36:26.166+0100",
        "body": "The two columns are already reserved for exactly this content, see docs here. So it’s only a matter of introducing them and make a quick test to see if standard processing works."
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-14T08:31:21.927+0100",
        "body": "Renamed *ds_Xfire4RCS.xls* to *ds_rcs4xf.xls* because the first name has been changed."
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-09T11:13:22.666+0100",
        "body": "Will do changes right now even though I cannot test and formally release it without Jenkins."
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-09T11:09:59.630+0100",
        "body": "Changed description to become *ds_Xfire4RCS.xls* rather than *ds_rcs_db.xls*."
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-07T13:55:19.591+0100",
        "body": "While waiting for response, preparing the autotests. After looking around for an hour I found that they are running on *ip-10-169-55-46*."
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-07T13:44:09.238+0100",
        "body": "Need to get infos from [~accountid:5a4d1d091e82dd081aaea3ed] "
      },
      {
        "author": "Helge Kränz",
        "created": "2025-07-07T09:16:46.111+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed] : I think you are refering to *ds_Xfire4RCS.xls* rather than to *ds_rcs_db.xls* - can you confirm?"
      }
    ]
  },
  {
    "key": "RX-16887",
    "summary": "DAL - Support Datapoint filters with taxonomy traversal",
    "description": "*Story*\n\nWhen filtering resources using datapoint properties that are supported by taxonomies\nThen all child nodes for the given property value shall be used as well as filter value\nSo that a complete set of relevant records is returned.\n\n\n*Background*\n\nThe Datapoints resource includes, besides the Target Name Property, additional properties which are utilizing specific taxonomies to query the Reaxys content. When filtering by these properties, Reaxys identifies all the child nodes for the given value and then is using the set of parent and children values to filter the resource of interest.\n\nTo accomplish this behavior in DAL these properties shall utilize the taxonomy queries as defined in [https://elsevier.atlassian.net/browse/RX-16889|https://elsevier.atlassian.net/browse/RX-16889|smart-link]\n\n\n\n*Datapoint Properties with Taxonomy support:*\n\n||*OData Property*||*XML Field*||*XFire Field*||*Taxonomy Name*||*Description*||\n|{{Datapoints.SubstanceEffects}}|DAT.EFFECT|DP8|TEFFT|Substance Effect|\n|{{Datapoints.BioassayAnimalModel}}|DAT.MODEL|DQG|TMODX|Animal Model|\n|{{Datapoints.MeasurementParameter}}|DAT.VTYPE|DPQ|TPKPM|Measurement Parameter|\n|{{Datapoints.DatapointSubstance.SubstanceRouteOfAdm}}|DAT.MROUTE|DQD|TROUT|Route of Administration|\n|{{Datapoints.DatapointBiologicalMaterial.BiologicalSpeciesNcbiId}}|DAT.BSPECIE|DPC|TSPEC|Biological Species / NCBI ID|\n|{{Datapoints.DatapointBiologicalMaterial.ClinicalFindingsDisease}}|DAT.BSTATE|DQP|TPATH|Clinical Findings / Disease|\n|{{Datapoints.DatapointBiologicalMaterial.OrgansTissues}}|DAT.BTISSUE|DQC|TTISS|Organs / Tissues|\n|{{Datapoints.DatapointBiologicalMaterial.CellsCellLines}}|DAT.BCELL|DPB|TCELL|Cells / Cell Lines|\n\nWhen filtering by one of these properties the XML and XFire server do traverse the associated taxonomy to collect records associated with the query term and all child terms.\n\n*_Example_*\n\nFilter by the property {{SubstanceEffects}} using the value {{'lysophospholipid receptor affecting agent'}}\n\nOData: {{data/Datapoints?$filter=SubstanceEffects/any(d:d eq 'lysophospholipid receptor affecting agent')}}\n\nThe property {{SubstanceEffects}} is associated with the taxonomy {{TEFFT}}\n\nIn the Taxonomy 2 child nodes are populated for {{'lysophospholipid receptor affecting agent'}} which are {{lysophospholipid receptor agonist}} and {{lysophospholipid receptor antagonist}}:\n\n{noformat}+--- lysophospholipid receptor affecting agent\n|  +--- lysophospholipid receptor agonist\n|  +--- lysophospholipid receptor antagonist{noformat}\n\nTherefore the filter request shall return records that are associated with any of these 3 taxonomy values.\n\nThe corresponding XFire request is:\n\n\n{noformat}SEARCH into H001__1662659314267836255:d <BSD@<FCT@FCTORIG=\"DAT.EFFECT = \"\"lysophospholipid receptor affecting agent\"\"\"@FCTRB=\" kontext{DATAP}(kontext{TEFFT:children;recursive;add}(T15:'lysophospholipid receptor affecting agent'))\"@>FCT@>BSD@{noformat}\n\n\n\n*Acceptance Criteria*\n\n* When filtering by a datapoint property with taxonomy support, then all child node values for the given filter value are used as well as filter\n\n\n\n*Example Mapping*\n\n[https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602089770943/Example+Mapping+-+Additional+Taxonomy+Datapoint+Properties|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602089770943/Example+Mapping+-+Additional+Taxonomy+Datapoint+Properties|smart-link] \n\n\n\n*Behavior Examples*\n\nBelow are some examples describing the current DAL behavior for filtering without taxonomy traversal, and the expected behavior with taxonomy traversal as observed with the XML server.\n\n*_Current Results_*\n\n{noformat}FILTER PROPERTY and VALUE                                                       PROPERTY VALUE RESPONSE                   NUMBER OF DATAPOINTS\nBioassayAnimalModel (filter value: 'experimental peritoneal fibrosis')          experimental peritoneal fibrosis               2\nCellsCellLines (filter value: 'HUES 8 cell line';'RUES2 cell line)              HUES 8 cell line                               3\n                                                                                RUES2 cell line                                3\nClinicalFindingsDisease (filter value: 'clinical finding')                      clinical finding                             178\nMeasurementParameter (filter value: 'cell level')                               cell level                                     2\nOrgansTissues (filter value: 'spine')                                           spine                                         30\nSubstanceEffects (filter value: 'lysophospholipid receptor affecting agent')    lysophospholipid receptor affecting agent     13\nSubstanceRouteOfAdm (filter value: 'periodontal administration')                periodontal administration                    35{noformat}\n\n\n\n*_Expected Results_*\n\nThe retrieved results are expected to contain also the datapoints that are child nodes of the filter value\n\n{noformat}FILTER PROPERTY and VALUE                                                       PROPERTY VALUE RESPONSE                                NUMBER OF DATAPOINTS\nBioassayAnimalModel (filter value: 'experimental peritoneal fibrosis')          chlorhexidine gluconate-induced peritoneal fibrosis       17\n                                                                                experimental peritoneal fibrosis                           2\n                                                                                methylglyoxal-induced peritoneal fibrosis                 12\n                                                                                peritoneal dialysis fluid-induced peritoneal fibrosis     56\nBiologicalSpeciesNcbiId (filter value: 'Sulfolobales')                          Saccharolobus shibatae                                    29\n                                                                                Saccharolobus solfataricus                                86\n                                                                                Saccharolobus solfataricus P2                              4\n                                                                                Sulfolobus acidocaldarius                                  4\nCellsCellLines (filter value: 'HUES 8 cell line';'RUES2 cell line')             HUES 8 cell line                                           3\n                                                                                HUES 8-E cell line                                        11\n                                                                                RUES2 cell line                                            3\n                                                                                RUES2-GLR cell line                                       49\n                                                                                RUES2-Q150 cell line                                       1\nClinicalFindingsDisease (filter value: 'clinical finding')                      anxiety                                                  233\n                                                                                clinical finding                                         178\n                                                                                weight loss (clinical finding)                            12\nMeasurementParameter (filter value: 'cell level')                               calcium cell level                                        42\n                                                                                cell level                                                 2\n                                                                                cell pH                                                   10\n                                                                                potassium cell level                                       6\n                                                                                sodium cell level                                          6\nOrgansTissues (filter value: 'spine')                                           annulus fibrosus                                          70\n                                                                                coccygeal vertebra                                        24\n                                                                                intervertebral disk                                        9\n                                                                                lumbar disk                                               25\n                                                                                lumbar spine                                              30\n                                                                                nucleus pulposus                                         140\n                                                                                spine                                                     30\nSubstanceEffects (filter value: 'lysophospholipid receptor affecting agent')    lysophospholipid receptor affecting agent                 13\n                                                                                lysophospholipid receptor agonist                         43\n                                                                                lysophospholipid receptor antagonist                     281\nSubstanceRouteOfAdm (filter value: 'periodontal administration')                intragingival administration                              50\n                                                                                periodontal administration                                35{noformat}",
    "status": "To Do",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-17176",
    "summary": "DAL: RCS - unexpected results for Filter using Supplier LicenseLabel",
    "description": "based on EM [https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601798747900/Example+Scenarios+-+RCS+Content+Access+Control#Scenario%3A-Filter-using-Supplier-LicenseLabel|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119601798747900/Example+Scenarios+-+RCS+Content+Access+Control#Scenario%3A-Filter-using-Supplier-LicenseLabel|smart-link] \n\n*Steps to reproduce:*\n\n# Execute a query with the following parameters: GET {{ /data/Suppliers?$filter=LicenseLabel eq '0'}}\nwith Access to RCS  Database only \n\n{noformat}{\n  \"dbs\":\n    {\n      \"rcs\":{}\n    }\n}{noformat}\n\n# Verify a response\n\n*Expected result:* Number of expected Suppliers: {{5.}}Expected Supplier IDs: {{425, 675, 1151, 1135, 1191}}\n\n*Actual result:*  10 1st Suppliers:\n\n{noformat}\"value\": [\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 152,\n\t\t\"SupplierUpdateDate\": \"2025/02/01\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"AccelaChemBioInc\",\n\t\t\t\t\"CompanyName\": \"Accela ChemBio Inc.\",\n\t\t\t\t\"SupplierNameId\": 1,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 152\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 161,\n\t\t\"SupplierUpdateDate\": \"2025/05/27\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"AtlanticResearchChemicals\",\n\t\t\t\t\"CompanyName\": \"Atlantic Research Chemicals Ltd.\",\n\t\t\t\t\"SupplierNameId\": 2,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 161\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 175,\n\t\t\"SupplierUpdateDate\": \"2025/05/27\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"ChemBridgeCorporation\",\n\t\t\t\t\"CompanyName\": \"ChemBridge Corporation\",\n\t\t\t\t\"SupplierNameId\": 3,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 175\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 177,\n\t\t\"SupplierUpdateDate\": \"2024/06/01\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"ChemScene\",\n\t\t\t\t\"CompanyName\": \"ChemScene LLC\",\n\t\t\t\t\"SupplierNameId\": 4,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 177\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 178,\n\t\t\"SupplierUpdateDate\": \"2025/05/27\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"ChemShuttle\",\n\t\t\t\t\"CompanyName\": \"ChemShuttle\",\n\t\t\t\t\"SupplierNameId\": 5,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 178\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 183,\n\t\t\"SupplierUpdateDate\": \"2025/05/23\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"ChemodexLtd\",\n\t\t\t\t\"CompanyName\": \"Chemodex Ltd.\",\n\t\t\t\t\"SupplierNameId\": 6,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 183\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 240,\n\t\t\"SupplierUpdateDate\": \"2025/05/27\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"ManchesterOrganicsLtd\",\n\t\t\t\t\"CompanyName\": \"Manchester Organics Ltd.\",\n\t\t\t\t\"SupplierNameId\": 7,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 240\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 264,\n\t\t\"SupplierUpdateDate\": \"2025/05/23\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"SelleckChemicals\",\n\t\t\t\t\"CompanyName\": \"Selleck Chemicals LLC\",\n\t\t\t\t\"SupplierNameId\": 8,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 264\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 308,\n\t\t\"SupplierUpdateDate\": \"2025/05/27\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"WuXiAppTec\",\n\t\t\t\t\"CompanyName\": \"WuXi AppTec\",\n\t\t\t\t\"SupplierNameId\": 9,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 308\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"LicenseLabel\": \"0\",\n\t\t\"CommercialSupplierId\": 341,\n\t\t\"SupplierUpdateDate\": \"2025/05/22\",\n\t\t\"SupplierEntryDate\": \"2020/07/04\",\n\t\t\"SupplierNames\": [\n\t\t\t{\n\t\t\t\t\"SupplierId\": \"DCChemicals\",\n\t\t\t\t\"CompanyName\": \"DC Chemicals\",\n\t\t\t\t\"SupplierNameId\": 10,\n\t\t\t\t\"CompanySynonyms\": null,\n\t\t\t\t\"CommercialSupplierId\": 341\n\t\t\t}\n\t\t]\n\t}\n]{noformat}",
    "status": "In Progress",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Praveen Kumar S",
        "created": "2025-07-14T04:30:38.313+0100",
        "body": "Tested the endpoint {{/data/Suppliers?$filter=LicenseLabel eq 0}} in the *non-prod DAL environment* against *RCS DB version RC250061RC*. According to the example mapping, we expected 5 suppliers with {{LicenseLabel = 0}} (IDs: 425, 675, 1151, 1135, 1191). However, the actual result from Fulgor returned *241 hits*, which is inconsistent with the mapping.\n\n*Details:*\n\n* *Endpoint tested:* {{/data/Suppliers?$filter=LicenseLabel eq 0}}\n* *Fulgor command:* {{SEARCH into R1_002_3_1752461952702:C R1O:\"0\"}} → *241 hits*\n* *Expected result (from mapping):* 5 suppliers\n* *Actual result:* 10 suppliers returned on page 1 (pagination); total 241 hits in Fulgor\n* *DB version:* RC250061RC (RCS-only)\n* *Environment:* Non-prod DAL\n\n*Additional checks:*\n\n* {{/data/Suppliers?$filter=LicenseLabel eq 1}}\n→ {{R1O:\"1\"}} → *678 hits*\n* {{/data/Suppliers?$count=true}}\n→ *Total suppliers:* 919\n\nRequesting clarification from [~accountid:5a4d1d091e82dd081aaea3ed] *&* [~accountid:557058:95d34674-3cac-4080-9f43-a65fc04b43db] on the expected behavior."
      }
    ]
  },
  {
    "key": "RX-17218",
    "summary": "DAL: Build new version of existing Reaxys for KNIME node for KNIME v5.5 Java distribution",
    "description": "*Background*\n\nWith the introduction of KNIME 5.3.0 the library {{org.apache.commons.io_2.8.0}} has been removed from the KNIME java distribution and only the more recent {{org.apache.commons.commons-io_2.15.1}} is now available.\n\nThe existing Reaxys KNIME nodes however depend on the {{org.apache.commons}} library.\n\nTherefore installing the Reaxys KNIME nodes in KNIME 5.3.0 or higher will result in an error message and the installation fails.\n\n_Installation Error Message_\n\n{noformat}Cannot complete the install because one or more required items could not be found.\nSoftware being installed: Reaxys KNIME nodes 2.2.1.201903051757 (ReaxysKnimeFeature.feature.group 2.2.1.201903051757)\nMissing requirement: Reaxys Nodes extension for KNIME Workbench 2.2.1 (com.elsevier.reaxysapi 2.2.1) requires 'osgi.bundle; org.apache.commons.io 2.5.0' but it could not be found\nCannot satisfy dependency:\nFrom: Reaxys KNIME nodes 2.2.1.201903051757 (ReaxysKnimeFeature.feature.group 2.2.1.201903051757)\nTo: org.eclipse.equinox.p2.iu; com.elsevier.reaxysapi [2.2.1,2.2.1]{noformat}\n\nTherefore the existing KNIME nodes shall be adopted for use with the latest KNIME version 5.5.\n\n*KNIME 5.5 Version Details*\n\nCan be downloaded from [https://www.knime.com/downloads/download-knime|https://www.knime.com/downloads/download-knime|smart-link] \n\nJava version included in distribution:\n\n{noformat}openjdk 17.0.5 2022-10-18\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing){noformat}\n\nThis KNIME forum post [https://forum.knime.com/t/update-extensions-for-knime-analytics-platform-5-4-changes/84889|https://forum.knime.com/t/update-extensions-for-knime-analytics-platform-5-4-changes/84889|smart-link]  also contains relevant information on the use of {{org.apache.commons.commons-io}} as an dependency\n\n\n\n*Reaxys KNIME Nodes Details*\n\nv2.2.1 build against KNIME 3.5\n\nGithub: [https://github.com/elsevier-health/reaxys-knime-3-5|https://github.com/elsevier-health/reaxys-knime-3-5|smart-link] \n\n\n\n*Acceptance Criteria*\n\n* Reaxys KNIME nodes are build against KNIME 5.5 environment\n* Reaxys KNIME node version is increased\n* New Reaxys KNIME node installation zip archive is provided\n* New Reaxys KNIME node archive can be installed on clean KNIME 5.5 installation",
    "status": "Testing",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Aleksandra Jarco",
        "created": "2025-07-31T09:02:56.625+0100",
        "body": "Hi[~accountid:5a4d1d091e82dd081aaea3ed] , can you please test the attached zip archive in knime ? "
      },
      {
        "author": "Aleksandra Jarco",
        "created": "2025-07-31T09:01:48.262+0100",
        "body": "PR approved and merged. "
      },
      {
        "author": "Aleksandra Jarco",
        "created": "2025-07-30T10:38:24.616+0100",
        "body": "PR has been created and waiting for the review. New version of the zip archive attached to the ticket."
      }
    ]
  },
  {
    "key": "RX-17496",
    "summary": "DAL: Provide KNIME support to mimic current Citations Node behavior",
    "description": "*Background*\n\nExusting Reaxys API clients using KNIME will be migrated to the new DAL API. To minimize the migration effort for their existing KNIME workflows we want to provide them with a replacement of the existing Citation KNIME node that can mimics the existing behavior while utilizing the new OData API.\n\nDetails on expected behavior: [https://elsevier.atlassian.net/wiki/x/qoraDMds|https://elsevier.atlassian.net/wiki/x/qoraDMds|smart-link] \n\n*Acceptance Criteria*\n\n_Filter Capabilities_\n\n* User can specify one of the following filter input options\n** Authors\n** Citation Basic Index\n** DOI\n** \n\n_Retrieve Capabilities_\n\n* User can select one of the following retrieve options\n** Abstract\n** Citation\n** Citation Identification\n** Patent Biobliography\n\n_Data Response Representation_\n\n* For each retrieve option (Abstract, Citation, Citation Identification, Patent Biobliography) include the columns as described here: [https://elsevier.atlassian.net/wiki/x/qoraDMds|https://elsevier.atlassian.net/wiki/x/qoraDMds|smart-link] \n* Each row contains the special columns\n** {{Query: QUERY_PROPERTY}}\n** {{Instance Identifier: Reaxys Citation Number}}\n* Each row represents a distinct citation record\n* The following data transformations are applied for the representation in the KNIME cells\n** Single primitive value (int, string) → single primitive value\nExample:\nKNIME Column Name: {{Document Type}}\nOData Property: Citation.DocumentType\nOData Value: {{Article}}\nKNIME Value: {{Article}}\n** Collections of primitive values → concatenate values using {{|}}\nExample:\nKNIME Column Name: {{Secondary IPC}}\nOData Property: Citation.PatentBibliographies.SecondaryIpc\nOData Value: {{\"A61K 9/70\",\"A61K 31/522\",\"A61P 11/06\",\"A61P 11/08\"}}\nKNIME Value: {{A61K 9/70|A61K 31/522|A61P 11/06|A61P 11/08}}\n** Multiple instances of collections of entities\n*** if at least one entity property has a non-null value then\n**** concatenate values using {{|}}\n**** null value is explicitly represented as {{null}}\nExample: \nKNIME Column Name: {{Family Member: Indexed Patent}}\nOData Property: Citation.PatentBibliographies.PatentBibliographyFamilyMember.FamilyMemberIndexedPatent\nOData Value: {{\"yes\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\"}}\nKNIME Value: {{yes|null|null|null|null|null|null|null}}\n*** if all entity property instances are null then\n**** return _null value_\nExample: \nKNIME Column Name: {{Family Member: Indexed Patent}}\nOData Property: Citation.PatentBibliographies.PatentBibliographyFamilyMember.FamilyMemberIndexedPatent\nOData Value: {{\"null\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\"}}\nKNIME Value: _null value_",
    "status": "Testing",
    "assignee": "Aleksandra Jarco",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-17501",
    "summary": "DAL: Prepare RCS ds Excel sheet enriched with MULTI=M attribute",
    "description": "Add MULTI=M attribute for RCS properties with cardinality higher 1\n\nReference ds: [https://github.com/elsevier-health/reaxys-fabrication-dst-xref-spl/blob/rx-16600-rcs/datastructure/ds_rcs4xf.xls|https://github.com/elsevier-health/reaxys-fabrication-dst-xref-spl/blob/rx-16600-rcs/datastructure/ds_rcs4xf.xls|smart-link] \n\n\n\n*_New RCS DS Version_*\n\n* MULTI=M attribute has been added for all suppliers and products properties where {{Multiple (Column F)}} is set to {{J}}\n* Product properties\n** No examples were identified using random sampling via the API for\n*** PROD.USAGE\n*** PROD.SHIPTO\n*** PROD.LABEL\n*** PROD.FEATIND\n*** PROD.APPL\n*** PROD.SUIT\n*** PROD.FURTHER\n\n[^ds_rcs4xf_RX-17501.xlsx]\n\n",
    "status": "In Progress",
    "assignee": "Markus Fischer",
    "priority": "1-Critical",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Devika Bhandari",
        "created": "2025-08-20T12:31:34.127+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed] Some of the open questions I have regarding the inconsistencies I found:\n\n# XLS has collection defined MULTI=M for the below fields but example mapping has single value. Do we treat XLS source of truth and update/ignore the scenarios in example mapping?\n\nGeographicalLocation\nContactEmail\nbusinessModel\ncontrolledSubstanceLicense\ndeliveryTimeliness\n\n# ContactEmail though defined as collection comes back in response as\n\t\t\t\"ContactEmail\": [\n\t\t\t\t\"[info@frontierspecialtychemicals.com|mailto:info@frontierspecialtychemicals.com]; [hlister@frontierspecialtychemicals.com|mailto:hlister@frontierspecialtychemicals.com]\"\n\t\t\t],\nfor data/Suppliers(128)?$expand=SupplierAddresses. It can be noted that clearly there are 2 emails registered but the information is semicolon separated and represented as string rather than collection. Should we treat this as data error and continue to treat contact email as collection?\n# For new field, SubstancePackSizeRange in Substances, the multiplicity is added as J but the MULTI=M tag is missing in description column. This indeed is a multiple valued field and causes issues we have noticed for other collection fields and hence I have updated it with MULTI=M but would like to keep you in the loop."
      }
    ]
  },
  {
    "key": "RX-12001",
    "summary": "DAL - Investigate Python SDK capabilities",
    "description": "*Background*\n\nMost Reaxys Data API users a using python to integrate the Reaxys Data API. Currently we are using the public python-odata library to interact via python with the Reaxys OData API. This library has some limitations that shall be addressed in the SDK.\n\n*Requirements*\n\nOverall goal is to improve the user experience by reducing the need to use the {{raw }}method of the python-odata library as much as possible and allow to utilize the Reaxys OData actions to execute chemical structure queries.\nBesides that, a token refresh mechanism as implemented for the pRT SDK shall be included.\n\n*OData Functionality*\n\n*_Introduce_* {{any}} *_operator for 1:n relationships_*\n\n_Top level lambda_\n\nOData:  {{GET data/Substances?$filter=ChemicalNames/any(cn:cn eq 'pyrrole')}}\nCurrent python:\n\n{noformat}Substances = Service.entities['Substances']\nquery = Service.query(Substances)\nresults = query.raw({'$filter': \"ChemicalNames/any(cn:cn eq 'pyrrole')\"}){noformat}\n\nPreferred approach: introduce any operator that can be used within filter method\nPseudo code: {{query.filter(any(Substances.ChemicalNames == 'pyrrole')}}\n\n_Second level lambda_\n\nOData:  {{GET data/Citations?$filter=PatentBibliographies/any(p:p/Claims/any(c:c eq 'protac'))}}\nCurrent python:\n\n{noformat}Citations = Service.entities['Citations']\nquery = Service.query(Citations)\nresults = query.raw({'$filter': \"PatentBibliographies/any(p:p/Claims/any(c:c eq 'protac'))\"}){noformat}\n\nPreferred approach: introduce any operator that can be used within filter method in a nested way\nPseudo code: {{query.filter(any(Citations.PatentBibliographies, any(Claims == 'protac'))}}\n\n_Third level lambda_\n\nOData: {{GET Citations?$filter=Keywords/any(k:k/KeywordTerm/any(kt:kt/AllKeywords eq 'protac'))}}\n\n*_Allow applying filters on expanded collections_*\n\nOData: {{GET data/Substances?$filter=ElectricalMoments/any(n:n/ElectricalMomentValue/Value eq 0.8 and n/ElectricalMomentSolvents/any(ns:ns eq 'benzene'))&ElectricalMoments($filter=ElectricalMomentSolvents/any(ns:ns eq 'benzene'))}}\n\nPseudo code:  {{query.filter().expand(Substances.ElectricalMoments.filter(any(ElectricalMoments.ElectricalMomentSolvents == 'benzene'))}}\n\n*_Allow applying pagination on expanded collections_*\n\nOData: {{GET data/Citations?$expand=Substances($top=10;skip=10)}}\n\nPseudo code:  {{query.filter().expand(Substances, offset=10, limit=10)}}\n\n*_Structure Search Bound Actions_*\n\nOData: {{POST data/Substances/data.SearchByMolecule?$expand=Citations}}\n\n\n\n*Authentication*\n\n* access token shall be automatically refreshed if expired\n\n\n\n*Example Notebook Illustrating current usage of python-odata and authentication*\n\n[^Reaxys_Data_API_Quick_Start_Guide_rev02.ipynb]\n\n",
    "status": "Testing",
    "assignee": "Markus Fischer",
    "priority": "1-Critical",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Victor Rosca",
        "created": "2025-10-08T09:16:54.554+0100",
        "body": "This ticket investigates and improves Python SDK capabilities for Reaxys Data API, focusing on OData filter, expand, pagination, and authentication features.\n\n* Pagination ({{skip}}/{{top}}) is supported by python-odata and integrated into the SDK’s {{data_filter}}; investigation can be closed.\n* {{data_filter}} currently returns JSON objects, unlike python-odata’s metadata objects; this needs resolution for {{expand}} support.\n* Not all filter syntaxes are supported, especially complex hierarchical filters and filters on expanded collections; separate tasks cover these.\n* Added support for logical {{\"or\"}} operator and functions like {{first()}} in {{data_filter}} to match python-odata capabilities.\n* Ongoing work to implement and review {{any}} operator usage for 1:n relationships and nested filters in the SDK.\n* Authentication improvements include automatic token refresh similar to pRT SDK.\n* Proposal to close this investigation ticket and continue with implementation tasks RX-18302 (filter syntax) and RX-18066 (expand options).  \n* Relevant repos and PRs: [Reaxys Retrosynthesis API SDK|https://github.com/elsevier-health/reaxys-retrosynthesis-api-sdk], PRs #1 and #2 for logical operators and {{first()}} method."
      },
      {
        "author": "Victor Rosca",
        "created": "2025-10-07T08:50:22.184+0100",
        "body": "Following the recent findings, we can confirm that *pagination* ({{skip}} / {{top}} operations, equivalent to {{offset}} and {{limit}}) is supported by the *python-odata* library and has been successfully integrated into our {{data_filter}} (the wrapper around the {{filter}} operation from python-odata).\nGiven this, the current investigation task can be *closed*.\n\n*In conclusion:*\n\n* We still need to implement the *expand* option for {{data_filter}} (our SDK’s filter implementation).\nThis depends on resolving the issue that the current return type is a *JSON object* instead of a *metadata object*.\n* Not all *filter syntaxes* are supported.\nSpecifically:\n** Filters where an object can be either a scalar or a collection (without using {{any}}) are not supported.\n** Some *complex hierarchical filters* are also unsupported: *_Allow applying filters on expanded collections_*.\n\nSeparate tasks already cover these two issues:\n\n* [[RX-18302] DAL - Review and complete implementation of OData $filter query syntax in Python SDK|https://elsevier.atlassian.net/browse/RX-18302]\n* [[RX-18066] DAL - Implement OData $expand query options in Python SDK|https://elsevier.atlassian.net/browse/RX-18066]\n\n*Proposal:* Close this investigation ticket and proceed with the implementation tasks above.\n\ncc [~accountid:5a4d1d091e82dd081aaea3ed] [~accountid:557058:95d34674-3cac-4080-9f43-a65fc04b43db] "
      },
      {
        "author": "Victor Rosca",
        "created": "2025-10-07T08:38:17.835+0100",
        "body": "It seems that the {{pagination}}, {{skip}}, and {{top}} operations — which are equivalent to {{offset}} and {{limit}} — are supported in the filter operation of *python-odata*.\nWe can use them similarly to the example provided.\n\nWe’ve integrated this behavior into our {{data_filter}} (the wrapper around {{filter}}).\nThe only difference is that the native {{filter}} method from python-odata returns *objects*, while our {{data_filter}} returns a *JSON structure*.\n\nThe changes have been committed to the *feature branch*.\nWith this, we can confirm that *pagination is supported*, and we can proceed to handle the *filter limitations* next."
      },
      {
        "author": "Victor Rosca",
        "created": "2025-09-30T09:55:24.165+0100",
        "body": "Related to the filter implementation, after the last sync we need to support the following syntax:\n\n{noformat}filter(any(substances.ChemicalNames.startswith('py')))\nfilter(any(substances.ChemicalNames == 'py'))\nfilter(substances.ChemicalNames == 'val1'){noformat}\n\nA partial implementation has been added in the branch: {{feature/review-filter-syntax}}.\nThis implementation needs to be reviewed and tested to ensure that all filtering possibilities are covered and that no errors remain."
      },
      {
        "author": "Victor Rosca",
        "created": "2025-09-17T08:59:43.811+0100",
        "body": "*Implemented functionality:*\n\n* Added support for the {{\"or\"}} operator in condition aggregation (previously only {{\"and\"}} was supported).\n* Ensured {{data_filter}} supports the same functions as the {{filter}} method in {{python-odata}} (e.g., {{first()}}).\n\nIn the PR:\n\n* [Add logical operators support for filters and enhance documentation by roscaviktor · Pull Request #1 · elsevier-health/reaxys-data-api-sdk|https://github.com/elsevier-health/reaxys-data-api-sdk/pull/1]\n* [Add first() method to EnhancedQuery and corresponding unit tests by roscaviktor · Pull Request #2 · elsevier-health/reaxys-data-api-sdk|https://github.com/elsevier-health/reaxys-data-api-sdk/pull/2]\n\n*Next steps:*\n\n* Still investigating usage of the {{any}} operator and alignment with metadata types.\n\ncc [~accountid:5a4d1d091e82dd081aaea3ed] fyi"
      },
      {
        "author": "Victor Rosca",
        "created": "2025-09-11T09:15:46.794+0100",
        "body": "After the presentation on 10/09, we need to further investigate the following topics:\n\n* Avoid using the {{\"any\"}} operator in the condition definition and in the initialization of the {{data_filter}} method.\n* Check if the return type of {{data_filter}} can be aligned with the {{filter}} method from the python-odata library. Currently, {{data_filter}} uses the {{raw}} method and returns a JSON object instead of a class generated from metadata.\n* Support the use of the {{\"or\"}} operator in condition aggregation. At the moment, only the {{\"and\"}} operator is supported.\n* Ensure that {{data_filter}} supports the same functions available in the {{filter}} method from the python-odata library (e.g., {{first()}}, etc.).\n\n*Timeline:*\nThis investigation should be completed during the current week. Afterwards, we need to proceed with implementing the {{expand}}and {{pagination}} operations.\n\n*Note:*\nWe must rely on the functionality already provided by the *python-odata* library and avoid re-implementing features that are already covered.\n\n*Git Repository:* [elsevier-health/reaxys-retrosynthesis-api-sdk: Reaxys Retrosynthesis API SDK|https://github.com/elsevier-health/reaxys-retrosynthesis-api-sdk]"
      }
    ]
  },
  {
    "key": "RX-17738",
    "summary": "Empty responses when under load",
    "description": "RT team has reported that they observe approx. 6 calls returning empty responses for every 16 requests are sent to 2 CBs. \n\n*Points to investigate*\n\n* Identify the bottleneck (if any)\n* Adoption of Virtual Threads for Data Service Tomcat container (Praveen has recent experience in trying this out)",
    "status": "Testing",
    "assignee": "Anna Tsiunchyk",
    "priority": "3-Medium",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Marina Al-Jarakh",
        "created": "2025-09-08T14:00:02.356+0100",
        "body": "Test was created: 32 parallel requests with empty cookies (new session) are sent and the status code is checked. BDD:\n\n{noformat}  @MultipleSearches\n  Scenario: DAL - Parallel requests\n    Given grants access to REAXYS\n    And 32 users send requests from ResultMultipleSearchesError with REAXYS access{noformat}\n\n(/) Result after fix (Environment = dal-nonprod-cortex; {{DALservice 0.1.199}}; {{DALserver 0.1.145; DALserviceAPI 0.0.33}}). Report: [https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALByTag/98/ReportDAL/|https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALByTag/98/ReportDAL/]\nlogs:\n\n{noformat}12:48:46.611 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 779271&$expand=Structures. Status code = 200\n12:48:46.619 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 278152. Status code = 200\n12:48:46.619 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 16129203. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 36337093. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 17489684. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 16926681. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1000. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1001. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1002. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1004. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1005. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1006. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1007. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1008. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1009. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1010. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1011. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1012. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1013. Status code = 200\n12:48:46.620 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1014. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1015. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1016. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1017. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1018. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1019. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1020. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1021. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1022. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1023. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1024. Status code = 200\n12:48:46.621 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1025. Status code = 200{noformat}\n\nBefore fix in Environment = demodal; {{DALservice 0.1.193}}; {{DALserver 0.1.145; DALserviceAPI 0.0.33}}. Report: [https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALByTag/99/ReportDAL/|https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALByTag/99/ReportDAL/]. Logs: \n\n{noformat}12:57:54.578 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 779271&$expand=Structures. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 278152. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 16129203. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 36337093. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 17489684. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 16926681. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1000. Status code = 200\n12:57:54.586 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1001. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1002. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1004. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1005. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1006. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1007. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1008. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1009. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1010. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1011. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1012. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1013. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1014. Status code = 200\n12:57:54.587 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1015. Status code = 200\n12:57:54.588 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1016. Status code = 200\n12:57:54.588 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1017. Status code = 200\n12:57:54.588 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1018. Status code = 200\n12:57:54.588 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1019. Status code = 500{noformat}\n\n(x) {{>> 12:57:54.588 [main] INFO java.lang.Class -- Query = $filter=ReaxysRegistryNumber eq 1019. Status code = 500}}"
      },
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-09-04T15:00:45.706+0100",
        "body": "{noformat}\t\"Version\": \"0.1.198\",\n\t\"Component\": \"Reaxys Data Service\",\n\t\"Version\": \"0.1.144\",\n\t\"Component\": \"Reaxys Data Server\",{noformat}"
      },
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-09-03T16:20:58.131+0100",
        "body": "Fixed xFireSessionId generation.\nAfter this I got “{{E3702}}“ exception {{\"No such element exception occurred while processing the execute response\"}} Added more extra logs to identify where the exception is coming from. But can’t reproduce it anymore\n\n\n{noformat}2025-09-03 11:42:38:115 ERROR [http-nio-8084-exec-3] ODataErrorProcessor:  00-e1839089d3764c45a26f7bf24c556595-1af0cbc16805442c-00  ODataErrorProcessor  ProcessError    <legacy><legacy>  false  could not prepare statement [while preparing SQL: select r1_0.\"RX_ID\" from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=? order by 1 fetch first ? rows only] [select r1_0.\"RX_ID\" from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=? order by 1 fetch first ? rows only] \norg.hibernate.exception.GenericJDBCException: could not prepare statement [while preparing SQL: select r1_0.\"RX_ID\" from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=? order by 1 fetch first ? rows only] [select r1_0.\"RX_ID\" from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=? order by 1 fetch first ? rows only]\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63) ~[hibernate-core-6.6.10.Final.jar:6.6.10.Final]\n\t..\n\tCaused by: com.elsevier.reaxys.xfire.jdbc.adapter.error.DALException: {\"error\":{\"code\":\"E3702\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-e1839089d3764c45a26f7bf24c556595-da9c197faa944517-00\",\"date\":\"2025-09-03T11:42:38\"}}}\n\tat com.elsevier.reaxys.xfire.jdbc.adapter.driver.remote.DataServerRemoteService.apply(DataServerRemoteService.java:71) ~[classes/:?]{noformat}"
      },
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-09-01T08:15:11.718+0100",
        "body": "Empty responses are received due to concurrency issue: trace ID in service logs doesn’t match to traceId in data-server error. So most likely it is same “Socket closed connection“ error. \nRT log\n\n{noformat}\u001b[1;37m2025-08-26T14:00:17,382\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-2\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-062af0392efd490386f28924bcc010b6-f144a5dae4f64837-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 30549588 {noformat}\n\n{noformat}demodal-api-deployment-78ff6dbb49-pdxwc\n2025-08-26 14:00:16:707 INFO  [http-nio-8080-exec-8] AddHeadersFilter:  00-062af0392efd490386f28924bcc010b6-9475a5120cc346a1-00  AddHeadersFilter  addOrModifyTraceHeaders    <legacy><legacy>  false  Request received with headers {host=[demodal-data-api.reaxys-nonprod.cortex.elsevier.systems], user-agent=[rt-rpsbuilder], accept=[application/json], authorization=[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NTYyNTY3NTQsImxpY2Vuc2VzIjoieyBcImRic1wiOiB7IFwicmVheHlzXCI6IHt9LCBcInJjc1wiOiB7fSwgXCJwdWJjaGVtXCI6IHt9IH0gfSIsImRhdGFfYXBpX3F1b3RhIjoieyBcIk5PTl9TVFJVQ1RVUkVfU0VBUkNIXCI6IHsgXCJtaW51dGVcIjogNzUwMCB9LCBcIlNUUlVDVFVSRV9TRUFSQ0hcIjogeyBcIm1pbnV0ZVwiOiAxNTAwIH0sIFwiU1RSVUNUVVJFX1NFQVJDSF9SRVRSSUVWQUxcIjogeyBcIm1pbnV0ZVwiOiA3NTAwIH0sIFwiQVNZTkNfU1RSVUNUVVJFX1NFQVJDSFwiOiB7IFwibWludXRlXCI6IDYwLCBcImhvdXJcIjogMTUwMCB9IH0iLCJ0ZW5hbnQiOiJFQ1ItMTIzNDU2Nzg5IiwiY2xpZW50X2lkIjoicmVheHlzX2RhbF9hcGlfZWNyXzEyMzQ1Njc4OV9kZW1vXzAxIn0.KLTrKPgu3G2ZlemjwbfKoXtqat8caaZJYh9r-lFuZl4], traceparent=[00-062af0392efd490386f28924bcc010b6-f144a5dae4f64837-00], x-amzn-trace-id=[Root=1-68adbdf0-5afc58617186aea87f420428], x-forwarded-port=[443], x-forwarded-proto=[https], accept-encoding=[gzip]} \n2025-08-26 14:00:16:707 INFO  [http-nio-8080-exec-8] AddHeadersFilter:  00-062af0392efd490386f28924bcc010b6-9475a5120cc346a1-00  AddHeadersFilter  logRequestInfo    <legacy><legacy>  false  Request forwarded to [/data/Reactions(30549588)?$expand=Products($select=InChiKey;$expand=Structures($select=StructureValue)),Reactants($select=InChiKey)&$select=ReactionId] with headers: {host=[demodal-data-api.reaxys-nonprod.cortex.elsevier.systems], user-agent=[rt-rpsbuilder], accept=[application/json], authorization=[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NTYyNTY3NTQsImxpY2Vuc2VzIjoieyBcImRic1wiOiB7IFwicmVheHlzXCI6IHt9LCBcInJjc1wiOiB7fSwgXCJwdWJjaGVtXCI6IHt9IH0gfSIsImRhdGFfYXBpX3F1b3RhIjoieyBcIk5PTl9TVFJVQ1RVUkVfU0VBUkNIXCI6IHsgXCJtaW51dGVcIjogNzUwMCB9LCBcIlNUUlVDVFVSRV9TRUFSQ0hcIjogeyBcIm1pbnV0ZVwiOiAxNTAwIH0sIFwiU1RSVUNUVVJFX1NFQVJDSF9SRVRSSUVWQUxcIjogeyBcIm1pbnV0ZVwiOiA3NTAwIH0sIFwiQVNZTkNfU1RSVUNUVVJFX1NFQVJDSFwiOiB7IFwibWludXRlXCI6IDYwLCBcImhvdXJcIjogMTUwMCB9IH0iLCJ0ZW5hbnQiOiJFQ1ItMTIzNDU2Nzg5IiwiY2xpZW50X2lkIjoicmVheHlzX2RhbF9hcGlfZWNyXzEyMzQ1Njc4OV9kZW1vXzAxIn0.KLTrKPgu3G2ZlemjwbfKoXtqat8caaZJYh9r-lFuZl4], traceparent=[00-062af0392efd490386f28924bcc010b6-9475a5120cc346a1-00], x-amzn-trace-id=[Root=1-68adbdf0-5afc58617186aea87f420428], x-forwarded-port=[443], x-forwarded-proto=[https], accept-encoding=[gzip], tracestate=[app=rxapi-dal-svc]} \n2025-08-26 14:00:16:708 INFO  [lettuce-epollEventLoop-4-1] RateLimiter:  00-062af0392efd490386f28924bcc010b6-9475a5120cc346a1-00  RateLimiter  CheckLimit    <legacy><legacy>  false  X-RateLimit-MinuteRemaining count: 2449 key:rate:limit:reaxys_dal_api_ecr_123456789_demo_01:NON_STRUCTURE_SEARCH \n2025-08-26 14:00:16:708 INFO  [lettuce-epollEventLoop-4-1] RateLimiter:  00-062af0392efd490386f28924bcc010b6-9475a5120cc346a1-00  RateLimiter  ProcessResult    <legacy><legacy>  false  RATE_LIMIT_ADD_VAL 0 \n2025-08-26 14:00:16:709 INFO  [lettuce-epollEventLoop-4-1] RateLimiter:  00-062af0392efd490386f28924bcc010b6-9475a5120cc346a1-00  RateLimiter  IsAllowed    <legacy><legacy>  false  RATE_LIMIT_IS_ALLOWED 2 \n\ndemodal-service-deployment-7b76c8d49c-758gd\n2025-08-26 14:00:16:711 INFO  [http-nio-8084-exec-29] BasePropagationController:  00-062af0392efd490386f28924bcc010b6-9d7afcda55394f8f-00  ReactionsODataController  Search    <legacy><legacy>  false  Start \n2025-08-26 14:00:16:711 INFO  [http-nio-8084-exec-29] BasePropagationController:  00-062af0392efd490386f28924bcc010b6-9d7afcda55394f8f-00  SearchServiceImpl  CreatePropagationData    <legacy><legacy>  false  Start \n2025-08-26 14:00:16:838 INFO  [http-nio-8084-exec-29] BasePropagationController:  00-062af0392efd490386f28924bcc010b6-9d7afcda55394f8f-00  SearchServiceImpl  CreatePropagationData    <legacy><legacy>  false  End. CorrId: 00-062af0392efd490386f28924bcc010b6-9d7afcda55394f8f-00, TraceState: app=rxapi-dal-svc,app=dal-service,app=dal-server, SessionId: 1756216816716 \n2025-08-26 14:00:16:839 INFO  [http-nio-8084-exec-29] ODataQueryAnalyticsLogger:  00-062af0392efd490386f28924bcc010b6-9d7afcda55394f8f-00  ODataQueryAnalyticsLogger  LogQueryStat    <legacy><legacy>  false  {\"entity\":\"Reactions\",\"accessType\":\"single\",\"odataOptions\":[\"expand\",\"select\"],\"selectedFields\":[\"ReactionId\"],\"orderedFields\":[],\"operators\":[],\"fieldUsage\":[],\"expandPaths\":[\"Reactions.Products.Structures\",\"Reactions.Reactants\"],\"expandedEntities\":[{\"entity\":\"Products\",\"selectedFields\":[\"InChiKey\"],\"orderedFields\":[],\"odataOptions\":[\"expand\",\"select\"],\"operators\":[],\"fieldUsage\":[],\"expandedEntities\":[{\"entity\":\"Structures\",\"selectedFields\":[\"StructureValue\"],\"orderedFields\":[],\"odataOptions\":[\"select\"],\"operators\":[],\"fieldUsage\":[],\"expandedEntities\":[]}]},{\"entity\":\"Reactants\",\"selectedFields\":[\"InChiKey\"],\"orderedFields\":[],\"odataOptions\":[\"select\"],\"operators\":[],\"fieldUsage\":[],\"expandedEntities\":[]}],\"clientId\":\"reaxys_dal_api_ecr_123456789_demo_01\",\"tenant\":\"ECR-123456789\"} \n2025-08-26 14:00:17:376 ERROR [http-nio-8084-exec-29] ODataErrorProcessor:  00-062af0392efd490386f28924bcc010b6-9d7afcda55394f8f-00  ODataErrorProcessor  ProcessError    <legacy><legacy>  false  JDBC exception executing SQL [select r1_0.\"RX_ID\" from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=? order by 1 fetch first ? rows only] [{\"error\":{\"code\":\"E3203\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-0556fe46e65d486198cb08975c1db4a7-063c373d5a374cd8-00\",\"date\":\"2025-08-26T14:00:17\"}}}] [n/a] \n2025-08-26 14:00:17:379 INFO  [http-nio-8084-exec-29] BasePropagationController:  00-062af0392efd490386f28924bcc010b6-9d7afcda55394f8f-00  ReactionsODataController  Search    <legacy><legacy>  false  End \n\ndemodal-api-deployment-78ff6dbb49-pdxwc\n2025-08-26 14:00:17:380 INFO  [reactor-http-epoll-1] RateLimitFilter:  00-062af0392efd490386f28924bcc010b6-9475a5120cc346a1-00  RateLimitFilter  Filter    <legacy><legacy>  false  Request completed successfully {noformat}\n\ncan’t find data-server logs "
      },
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-08-27T17:37:21.472+0100",
        "body": "data-service - {{SessionId: 1756214413809}}\n\n{noformat}2025-08-26 13:20:13:878 INFO  [http-nio-8084-exec-54] BasePropagationController:  00-4fda7ac8d74d48a5ac59ae30791b9dc9-5dc72247971d4e64-00  SearchServiceImpl  CreatePropagationData    <legacy><legacy>  false  End. CorrId: 00-4fda7ac8d74d48a5ac59ae30791b9dc9-5dc72247971d4e64-00, TraceState: app=rxapi-dal-svc,app=dal-service,app=dal-server, SessionId: 1756214413809\n\n2025-08-26 13:20:14:217 ERROR [http-nio-8084-exec-54] ODataErrorProcessor:  00-4fda7ac8d74d48a5ac59ae30791b9dc9-5dc72247971d4e64-00  ODataErrorProcessor  ProcessError    <legacy><legacy>  false  JDBC exception executing SQL [select r1_0.\"RX_ID\" from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=? order by 1 fetch first ? rows only] [{\"error\":{\"code\":\"E3203\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-3ded7edc65004fdc9f33daaa0d20d2c6-3c0d894582924abb-00\",\"date\":\"2025-08-26T13:20:14\"}}}] [n/a] {noformat}\n\ndata-server  - traceId changed and xfire session has changed to 1756214413991, but switch DB is trying to send request to socket with {{1756214413809}} ID\n\n{noformat}<-- Two different threads started same xfireSessionID\n2025-08-26 13:20:13:876 INFO  [http-nio-8765-exec-2] XfireJdbcMeta:  00-4fda7ac8d74d48a5ac59ae30791b9dc9-cf491d1c427a46aa-00  XfireJdbcMeta  ConnectionSync    <legacy><legacy>  false  Started a new xfire session: 1756214413809 \n2025-08-26 13:20:13:882 INFO  [http-nio-8765-exec-9] XfireJdbcMeta:  00-644550a2562d4372a2ae5cbcf0483752-cd5dc82b042741fe-00  XfireJdbcMeta  ConnectionSync    <legacy><legacy>  false  Started a new xfire session: 1756214413809\n2025-08-26 13:20:13:880 INFO  [http-nio-8765-exec-10] XfireJdbcMeta:  00-4fda7ac8d74d48a5ac59ae30791b9dc9-cf491d1c427a46aa-00  XfireJdbcMeta  GetConnection    <legacy><legacy>  false  Assigned connection: f1df5196-2587-4569-985c-b866a98d342a with XFIRE Session: 1756214413809 \n\n<-- Cache cleanup -->\n2025-08-26 13:20:13:882 INFO  [ForkJoinPool.commonPool-worker-62] XfireTransport:  00-105b2503fbd14b49a4aae2648e3530f9-ad1c03ae26ef4bee-00  XfireTransport  CloseConnection    <legacy><legacy>  false  Trying to close 1756214413809 \n2025-08-26 13:20:13:882 INFO  [ForkJoinPool.commonPool-worker-62] CacheConfig:  00-105b2503fbd14b49a4aae2648e3530f9-ad1c03ae26ef4bee-00  CacheConfig  Clean    <legacy><legacy>  false  XfireSession 1756214413809 is closed, the cause is - REPLACED \n2025-08-26 13:20:13:882 INFO  [ForkJoinPool.commonPool-worker-62] XfireTransport:  00-105b2503fbd14b49a4aae2648e3530f9-ad1c03ae26ef4bee-00  XfireTransport  CloseConnection    <legacy><legacy>  false  Xfire session 1756214413809 is closed \n\n\n2025-08-26 13:20:13:991 INFO  [http-nio-8765-exec-9] XfireClient:  00-3ded7edc65004fdc9f33daaa0d20d2c6-3c0d894582924abb-00  XfireClient  Init    <legacy><legacy>  false  Host localhost, Port 8001\n2025-08-26 13:20:14:043 INFO  [http-nio-8765-exec-9] XfireClient:  00-3ded7edc65004fdc9f33daaa0d20d2c6-3c0d894582924abb-00  XfireClient  writeAndRead    <legacy><legacy>  false  Request counter = 2, Message written = SET SESSION 1,0,_1756214413991,LICENSE=Reaxys:Both, Message read = created: /xfire/utmp/trusted/u/_1756214413991setting LICENSE=Reaxys:Bothcommands logged: DBSELECT,SEARCH,SEND\n2025-08-26 13:20:14:061 INFO  [http-nio-8765-exec-9] XfireJdbcMeta:  00-3ded7edc65004fdc9f33daaa0d20d2c6-3c0d894582924abb-00  XfireJdbcMeta  ConnectionSync    <legacy><legacy>  false  Started a new xfire session: 1756214413991\n2025-08-26 13:20:14:061 INFO  [http-nio-8765-exec-9] XfireMeta:  00-3ded7edc65004fdc9f33daaa0d20d2c6-3c0d894582924abb-00  XfireMeta  Execute    <legacy><legacy>  false  Start \n2025-08-26 13:20:14:063 ERROR [http-nio-8765-exec-9] XfireTransport:  00-3ded7edc65004fdc9f33daaa0d20d2c6-3c0d894582924abb-00  XfireTransport  switchDb    <legacy><legacy>  false  1756214413809 session with exception: Socket is closed \njava.net.SocketException: Socket is closed{noformat}"
      },
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-08-25T15:53:10.090+0100",
        "body": "Issues identified:\n\n# data-server logs are partially propagated to Opensearch. \n## can’t find messages that correspond to the empty responses received by RT team. Either request didn’t reach data-server or logs are missing in Opensearch,\n## I’ve manually sent request to demodal and data-server logs are missing in Opensearch.\n# a lot of different kind of errors in data-server logs:\n## majority of them were thrown while preparing/executing  {{select count(r1_0.\"RX_ID\") from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=?}} query\n{noformat}-- An IO error occurred while processing the execute response\n2025-08-23 09:34:48:105 ERROR [http-nio-8084-exec-1] ODataErrorProcessor:  00-a8eb38366aa54d478c65d8de756c847a-6d1bc3d2bff94cba-00  ODataErrorProcessor  ProcessError    <legacy><legacy>  false  JDBC exception executing SQL [select count(r1_0.\"RX_ID\") from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=?] [{\"error\":{\"code\":\"E3806\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-e3bb15e527724a1398711d31592f0b53-bd952557d1744e6d-00\",\"date\":\"2025-08-23T09:34:48\"}}}] [n/a] \n\n-- Execute step failed\n2025-08-23 09:35:25:243 ERROR [http-nio-8084-exec-3] ODataErrorProcessor:  00-5b493816d63040519e3615ae53c792b0-c93696097d9f472e-00  ODataErrorProcessor  ProcessError    <legacy><legacy>  false  JDBC exception executing SQL [select count(r1_0.\"RX_ID\") from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=?] [{\"error\":{\"code\":\"E3102\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-523b68a89a9c4bbe888eb52b53800f6f-0fc74e62c0f74f23-00\",\"date\":\"2025-08-23T09:35:25\"}}}] [n/a] \n\n-- Duplicate server statement found in the execute response\nCaused by: com.elsevier.reaxys.xfire.jdbc.adapter.error.DALException: {\"error\":{\"code\":\"E3701\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-eb35a85ac17641419070a010fe6fc15e-568982d5346545db-00\",\"date\":\"2025-08-23T09:35:25\"}}}\n\n2025-08-23 09:36:04:721 ERROR [http-nio-8084-exec-6] SqlExceptionHelper: java.net.SocketTimeoutException: Read timed out\n\n-- Failed to parse the query. Likely caused by multiple cross context tables\nCaused by: com.elsevier.reaxys.xfire.jdbc.adapter.error.DALException: {\"error\":{\"code\":\"E3308\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-fa9fef62e5ee413d80a86ec05c427d48-4e25734e708d46b9-00\",\"date\":\"2025-08-23T10:13:32\"}}}\n\n-- The downstream logic did not throw one of the known DAL exceptions\n2025-08-23 09:44:40:004 ERROR [http-nio-8084-exec-6] SqlExceptionHelper: {\"error\":{\"code\":\"E3900\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-0350b82186254c5ebcfa65ca27aa1d25-ca5859019fef4b79-00\",\"date\":\"2025-08-23T09:44:39\"}}}\n{noformat}\n\nActions:\n\n# Asked [~accountid:557058:70a60a84-9e66-48f0-b339-29f9f992ac66]  to check data-server demodal log\n# Improve:\n## Logging: add request path and query parameters to logs. There is a log message produced by dal-api that prints all request headers: {{AddHeadersFilter}}. We might add similar message to print current request\n {{2025-08-23 09:33:21:469 INFO  [http-nio-8080-exec-7] AddHeadersFilter:  00-6153f01404cb4c209622f38fac08ffb2-dafd8cfecdf8497b-00  AddHeadersFilter  addOrModifyTraceHeaders    <legacy><legacy>  false  Request received with }}headers{{ {host=[demodal-data-api.reaxys-nonprod.cortex.elsevier.systems], user-agent=[ReactorNetty/1.2.6], accept=[*/*], x-amzn-trace-id=[Root=1-68a98ae1-6893dc570579c04e3c25a58c], x-forwarded-port=[443], x-forwarded-proto=[https], accept-encoding=[gzip]}}}\n## *Do not make count* SQL call for specific search. Anyway the result is at most 1 record.\n# Investigate why data-service trace-id and data-server traceId *are different* in error message. They should be identicall\n{noformat}ODataErrorProcessor:  00-a8eb38366aa54d478c65d8de756c847a-6d1bc3d2bff94cba-00  ODataErrorProcessor  ProcessError    <legacy><legacy>  false  JDBC exception executing SQL [select count(r1_0.\"RX_ID\") from \"REACTIONS\".\"RX\" r1_0 where r1_0.\"RX_ID\"=?] [{\"error\":{\"code\":\"E3806\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-e3bb15e527724a1398711d31592f0b53-bd952557d1744e6d-00\",\"date\":\"2025-08-23T09:34:48\"}}}] [n/a]  \n{noformat}\n# Conduct load testing locally and attempt to reproduce same kind of errors. Reduce data-service pool size to 2 and run searches in 5 parallel threads."
      },
      {
        "author": "Pavan K S",
        "created": "2025-08-25T10:37:43.614+0100",
        "body": "[~accountid:5e79c554dde7030c4f121b88] Another issue observed, getting timed out for some reaction.\nEndpoint:\n[https://demodal-data-api.reaxys-nonprod.cortex.elsevier.systems/data/Reactions(67219474)?$expand=Products($select=InChiKey;$expand=Structures($select=StructureValue)),Reactants($select=InChiKey)&$select=ReactionId|https://demodal-data-api.reaxys-nonprod.cortex.elsevier.systems/data/Reactions(67219474)?$expand=Products($select=InChiKey;$expand=Structures($select=StructureValue)),Reactants($select=InChiKey)&$select=ReactionId]\n\n\n{noformat}\u001b[1;37m2025-08-25T09:35:27,044\u001b[m \u001b[1;31mERROR \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-9\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-0f7e446b7a7649afab602eae0e6036f6-24cbbe0c93db4494-00  DalService  getDetailsFromReactionId    <legacy><legacy>  false  Error retrieving details for reaction ID: 1819285 \njava.lang.IllegalStateException: Timeout on blocking read for 60000000000 NANOSECONDS\n\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:129)\n\tat reactor.core.publisher.Mono.block(Mono.java:1807)\n\tat com.elsevier.reaxyx.rpsbuilder.service.DalService.getDetailsFromReactionId(DalService.java:35)\n\tat com.elsevier.reaxyx.rpsbuilder.processor.RDFProcessor.mapToRPSCompoundRecords(RDFProcessor.java:72)\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\n\tat java.base/java.util.Iterator.forEachRemaining(Unknown Source)\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline.toArray(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline.toArray(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline.toList(Unknown Source)\n\tat com.elsevier.reaxyx.rpsbuilder.processor.RDFProcessor.processFile(RDFProcessor.java:50)\n\tat com.elsevier.reaxyx.rpsbuilder.ReaxysRetrosynthesisRpsBuilderApplication.lambda$run$1(ReaxysRetrosynthesisRpsBuilderApplication.java:75)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(Unknown Source)\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(Unknown Source)\n\tat java.base/java.util.concurrent.CountedCompleter.exec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\nCaused by: java.util.concurrent.TimeoutException: Timeout on blocking read for 60000000000 NANOSECONDS\n\t... 28 more\n\u001b[1;37m2025-08-25T09:35:27,044\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-9\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-0f7e446b7a7649afab602eae0e6036f6-24cbbe0c93db4494-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reaction response found for reaction ID: 1819285 \n\u001b[1;37m2025-08-25T09:35:31,820\u001b[m \u001b[1;31mERROR \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-12\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-2534cbed851449ec8e9666b1fb873e93-8a8b8010b12b4c6c-00  DalService  getDetailsFromReactionId    <legacy><legacy>  false  Error retrieving details for reaction ID: 67219474 \njava.lang.IllegalStateException: Timeout on blocking read for 60000000000 NANOSECONDS\n\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:129)\n\tat reactor.core.publisher.Mono.block(Mono.java:1807)\n\tat com.elsevier.reaxyx.rpsbuilder.service.DalService.getDetailsFromReactionId(DalService.java:35)\n\tat com.elsevier.reaxyx.rpsbuilder.processor.RDFProcessor.mapToRPSCompoundRecords(RDFProcessor.java:72)\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\n\tat java.base/java.util.Iterator.forEachRemaining(Unknown Source)\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline.toArray(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline.toArray(Unknown Source)\n\tat java.base/java.util.stream.ReferencePipeline.toList(Unknown Source)\n\tat com.elsevier.reaxyx.rpsbuilder.processor.RDFProcessor.processFile(RDFProcessor.java:50)\n\tat com.elsevier.reaxyx.rpsbuilder.ReaxysRetrosynthesisRpsBuilderApplication.lambda$run$1(ReaxysRetrosynthesisRpsBuilderApplication.java:75)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(Unknown Source)\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Unknown Source)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(Unknown Source)\n\tat java.base/java.util.concurrent.CountedCompleter.exec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\nCaused by: java.util.concurrent.TimeoutException: Timeout on blocking read for 60000000000 NANOSECONDS\n\t... 28 more{noformat}"
      },
      {
        "author": "Pavan K S",
        "created": "2025-08-25T10:35:32.687+0100",
        "body": "[~accountid:5e79c554dde7030c4f121b88] \n1. please find the log details which has reaction ID’s which has no response:\n\n\n{noformat}\u001b[1;37m2025-08-24T05:31:51,543\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-16\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-59225ceea1ed4c418734355ba29fa5a8-b1b2648885914807-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 27065225 \n\u001b[1;37m2025-08-24T05:31:51,543\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-16\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-59225ceea1ed4c418734355ba29fa5a8-b1b2648885914807-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 27065225 \n\u001b[1;37m2025-08-24T05:31:51,754\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-7\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-aca08b63210a429997ebc81012c7cafc-1806a0be6a3948c4-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 45460567 \n\u001b[1;37m2025-08-24T05:31:51,754\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-7\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-aca08b63210a429997ebc81012c7cafc-1806a0be6a3948c4-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 45460567 \n\u001b[1;37m2025-08-24T05:32:06,577\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 48270025 \n\u001b[1;37m2025-08-24T05:32:06,578\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 48270025 \n\u001b[1;37m2025-08-24T05:32:15,066\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-23\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-924824410aae414e8c4d0d0492bfe708-3086eb5f82ef44f2-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 271555 \n\u001b[1;37m2025-08-24T05:32:15,066\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-23\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-924824410aae414e8c4d0d0492bfe708-3086eb5f82ef44f2-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 271555 \n\u001b[1;37m2025-08-24T05:32:23,971\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-8\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-7fcd196dbfd3408f9c71b7194a3632b3-af5a03ccb7894221-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 33183529 \n\u001b[1;37m2025-08-24T05:32:23,971\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-8\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-7fcd196dbfd3408f9c71b7194a3632b3-af5a03ccb7894221-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 33183529 \n\u001b[1;37m2025-08-24T05:32:25,414\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-10\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-377654a6b0424cb1a1e0b44ef2bdf0ab-0b7bec349d6d49ba-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 25850929 \n\u001b[1;37m2025-08-24T05:32:25,414\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-10\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-377654a6b0424cb1a1e0b44ef2bdf0ab-0b7bec349d6d49ba-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 25850929 \n\u001b[1;37m2025-08-24T05:32:26,871\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-19\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-6e34213f90f544d1aab59d99b62cdb7d-fff8a98024fb4f57-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 52726339 \n\u001b[1;37m2025-08-24T05:32:26,872\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-19\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-6e34213f90f544d1aab59d99b62cdb7d-fff8a98024fb4f57-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 52726339 \n\u001b[1;37m2025-08-24T05:32:29,675\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-14\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-50934a4530ed48afb97efbbd2f30de5b-2b2f3c2f99a64e08-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 10188693 \n\u001b[1;37m2025-08-24T05:32:29,675\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-14\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-50934a4530ed48afb97efbbd2f30de5b-2b2f3c2f99a64e08-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 10188693 \n\u001b[1;37m2025-08-24T05:32:52,786\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-3\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-931a8380a7b34df0b3bd3f44d104d261-64461f6b944547a0-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 10841373 \n\u001b[1;37m2025-08-24T05:32:52,786\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-3\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-931a8380a7b34df0b3bd3f44d104d261-64461f6b944547a0-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 10841373 \n\u001b[1;37m2025-08-24T05:33:00,582\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 48270184 \n\u001b[1;37m2025-08-24T05:33:00,582\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 48270184 \n\u001b[1;37m2025-08-24T05:33:00,869\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 48270187 \n\u001b[1;37m2025-08-24T05:33:00,869\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 48270187 \n\u001b[1;37m2025-08-24T05:33:13,893\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-2\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-c607d056deba4ed5804944778d0479c6-5f054a456eca4fb9-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 46400924 \n\u001b[1;37m2025-08-24T05:33:13,893\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-2\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-c607d056deba4ed5804944778d0479c6-5f054a456eca4fb9-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 46400924 \n\u001b[1;37m2025-08-24T05:33:14,100\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-7\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-aca08b63210a429997ebc81012c7cafc-1806a0be6a3948c4-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 45460805 \n\u001b[1;37m2025-08-24T05:33:14,100\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-7\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-aca08b63210a429997ebc81012c7cafc-1806a0be6a3948c4-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 45460805 \n\u001b[1;37m2025-08-24T05:33:22,809\u001b[m \u001b[32mINFO  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-14\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-50934a4530ed48afb97efbbd2f30de5b-2b2f3c2f99a64e08-00  DALClient  getBearerToken    <legacy><legacy>  false  Fetching new bearer token \n\u001b[1;37m2025-08-24T05:33:24,012\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-24\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-441199cafd71464494bc7000f0aa880a-fd8bf60e97d842d9-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 11088142 \n\u001b[1;37m2025-08-24T05:33:24,013\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-24\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-441199cafd71464494bc7000f0aa880a-fd8bf60e97d842d9-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 11088142 \n\u001b[1;37m2025-08-24T05:33:31,030\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-12\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-c815668f41bf410ab2ad1702a21f6811-775dfd6424e240b8-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 1660663 \n\u001b[1;37m2025-08-24T05:33:31,030\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-12\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-c815668f41bf410ab2ad1702a21f6811-775dfd6424e240b8-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 1660663 \n\u001b[1;37m2025-08-24T05:33:31,922\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-16\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-59225ceea1ed4c418734355ba29fa5a8-b1b2648885914807-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 27065319 \n\u001b[1;37m2025-08-24T05:33:31,922\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-16\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-59225ceea1ed4c418734355ba29fa5a8-b1b2648885914807-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 27065319 \n\u001b[1;37m2025-08-24T05:33:34,007\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 48270348 \n\u001b[1;37m2025-08-24T05:33:34,007\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-18\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3a2246c828442cb9c4a4f3f2cf10b9f-28db34d7d62c4dd6-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 48270348 \n\u001b[1;37m2025-08-24T05:33:40,639\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-4\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-f3157e95168748519aff7a67713ff671-bc666e0ac9724596-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 36830079 \n\ntodays logs:\n\n\u001b[1;37m2025-08-25T09:32:09,408\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-10\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-ff5ce186056d42029577c9805dc8380a-24490c81acd04d65-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 39550148 \n\u001b[1;37m2025-08-25T09:32:09,408\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-10\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-ff5ce186056d42029577c9805dc8380a-24490c81acd04d65-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 39550148 \n\u001b[1;37m2025-08-25T09:32:09,622\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-8\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-807d2bbb72a54155bae9be1957a0e0d1-b7ee5877ed2e4c8f-00  RedisService  cacheReactionResponse    <legacy><legacy>  false  Invalid or incomplete reaction response for reaction ID: 58912157 \n\u001b[1;37m2025-08-25T09:32:09,623\u001b[m \u001b[33mWARN  \u001b[m[\u001b[1;34mForkJoinPool.commonPool-worker-8\u001b[m] \u001b[1;33mc.e.r.l.l.ReaxysLogger\u001b[m:  00-807d2bbb72a54155bae9be1957a0e0d1-b7ee5877ed2e4c8f-00  RDFProcessor  MapToRPSCompoundRecord    <legacy><legacy>  false  No reactants found for reaction ID: 58912157  {noformat}\n\n# Sample of empty responses has not been logged due to more requests, will try to log in the upcoming run.\n# please do check the Dalclient class below:\n[reaxys-retrosynthesis-rps-builder/src/main/java/com/elsevier/reaxyx/rpsbuilder/client/DALClient.java at main · elsevier-health/reaxys-retrosynthesis-rps-builder|https://github.com/elsevier-health/reaxys-retrosynthesis-rps-builder/blob/main/src/main/java/com/elsevier/reaxyx/rpsbuilder/client/DALClient.java]\nCC:\n[~accountid:613f56f634599600711bce03] [~accountid:5ab8b619d7282b2a6b86edd4]  "
      },
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-08-25T10:18:52.588+0100",
        "body": "[~accountid:712020:953d0199-e227-4598-bcc4-1b1ed77a9ec3]  could you please share the some details:\n\n# couple query samples that returned 200 Http status but empty response.\n# sample of the empty response itself: is it just no body at all or json similar to this\n{noformat}{\n\t\"@odata.context\": \"$metadata#Substances(ReaxysRegistryNumber)\",\n\t\"value\": []\n}{noformat}\n# how do you query DAL, please share this part of the script "
      }
    ]
  },
  {
    "key": "RX-17867",
    "summary": "DAL: $count on expanded entity- count is not present or equal to 0 in response",
    "description": "*Steps to reproduce:*\n\n# Execute a query with the following parameters: GET {{data/Datapoints?$expand=MeasurementObjects($count=true)}}\n\nor {{data/Datapoints?$expand=MedChemIds($count=true)}}\n\n{{data/Datapoints?$expand=MeasurementObjects($count=true)}}\n\n{{data/Datapoints?$expand=Metabolites($count=true)}}\n\n{{data/Datapoints?$expand=Concomitants($count=true)}}\n\n# verify a response\n\n*Expected result:* {{MeasurementObjects@odata.count}}value should be present in response\n\n*Actual result:* The response does not contain {{MeasurementObjects@odata.count}} value.\n\n{noformat}{\n\t\"@odata.context\": \"$metadata#Datapoints(DatapointId,MeasurementObjects())\",\n\t\"value\": [\n\t\t{\n\t\t\t\"DatapointId\": 1,\n\t\t\t\"MeasurementObjects\": [\n\t\t\t\t{\n\t\t\t\t\t\"MeasurementObjectValue\": null,\n\t\t\t\t\t\"DatapointId\": 1,\n\t\t\t\t\t\"MeasurementId\": 105,\n\t\t\t\t\t\"MeasurementObjectID\": 1\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"DatapointId\": 2,\n\t\t\t\"MeasurementObjects\": [\n\t\t\t\t{\n\t\t\t\t\t\"MeasurementObjectValue\": null,\n\t\t\t\t\t\"DatapointId\": 2,\n\t\t\t\t\t\"MeasurementId\": 106,\n\t\t\t\t\t\"MeasurementObjectID\": 2\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"DatapointId\": 3,\n\t\t\t\"MeasurementObjects\": [\n\t\t\t\t{\n\t\t\t\t\t\"MeasurementObjectValue\": null,\n\t\t\t\t\t\"DatapointId\": 3,\n\t\t\t\t\t\"MeasurementId\": 657,\n\t\t\t\t\t\"MeasurementObjectID\": 3\n\t\t\t\t}\n\t\t\t]\n\t\t},{noformat}\n\n⚠️ More cases to discuss:\n\n* {{GET /data/Targets?$filter=Datapoints/any(dp:dp/DatapointTarget/any(dt:dt/TargetNameUniprotIdPdbId eq 'Taste receptor type 1 member 2'))&$expand=Subunits($filter=MutantChimeraDetails eq 'Wildy';$count=true)}}\nknown issue with HitOnly for Targets and Datapoints (HitOnly does not apply for those contexts) \nBUT if a filter is added for expansion, e.g. {{$expand=Subunits($filter=MutantChimeraDetails eq 'Wild')}}, then the count value disappears.\n\n*Expected result:* {{Subunits@odata.count}}value should be present in response\n*Actual result:* The response does not contain {{Subunits@odata.count}} value.\n\n* {{GET /data/PubchemCompounds?$filter=CasRegistryNumbers/any(cn:startswith(cn, '100-*'))&$expand=DatabaseLinks($count=true)}}\n\n        \n       *Expected result:* {{DatabaseLinks@odata.count}}value should corresponds with {{DatabaseLinks}}records\n\n         *Actual result:* The response contains {{DatabaseLinks@odata.count}} value = 0\n\n!image-20250903-132610.png|width=1210,height=904,alt=\"image-20250903-132610.png\"!",
    "status": "Draft",
    "assignee": "Devika Bhandari",
    "priority": "3-Medium",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Devika Bhandari",
        "created": "2025-09-12T09:16:13.765+0100",
        "body": "Post discussion, it was concluded that the facts which do not have count available through fact availability field need not return {{xxx@odata.count}} field back in response. This needs to be consistent where the availability is populated but not present for a particular fact and when the availability is completely absent. \n\n\n\nCurrently, DatabaseLinks is the fact that’s been known to not have data on the count and Datapoints do not have availability data so all facts will not show data. \n\nWaiting to record all the facts which does not have the count information. "
      },
      {
        "author": "Devika Bhandari",
        "created": "2025-09-05T06:06:56.187+0100",
        "body": "Case 2 is fixed after updating the criteria which determines if its a hit only search from just checking the hintname to also considering the restricted contexts it doesn’t apply"
      },
      {
        "author": "Devika Bhandari",
        "created": "2025-09-04T08:04:04.602+0100",
        "body": "For case 3: \n\n* {{GET /data/PubchemCompounds?$filter=CasRegistryNumbers/any(cn:startswith(cn, '100-*'))&$expand=DatabaseLinks($count=true)}}\n* The expectation is to fetch the count from availability field, but the count for {{XF_}} which corresponds to DatabaseLink fact alias is missing in the response. \n\n{noformat}SEND ID_003_7_1756968677174 #ID_.ID1 #FA_.FA_ RANGE 1:10  AUTOSELECT POSTALL NOCITATION\n\n//@:ID1@79@@;@:FA_YY_1,MB_1,TB_3@;@.@:ID1@101@@;@:FA_YY_1,MB_1,TB_3@;@@+//.@:ID1@240@@;@:FA_YY_1,MB_1,TB_3@;@.@:ID1@244@@;@:FA_YY_1,MB_1,TB_3@@+//;@.@:ID1@980@@;@:FA_YY_1,MB_1,TB_3@;@.@:ID1@3677@@;@:FA_YY_1,MB_1,TB@+//3@;@.@:ID1@4101@@;@:FA_YY_1,MB_1,TB_3@;@.@:ID1@4735@@;@:FA_YY_1,MB@+//1,TB_3@;@.@:ID1@7474@@;@:FA_YY_1,MB_1,TB_3@;@.@:ID1@7475@@;@:FA_YY_1@+//,MB_1,TB_3@;@.@+ {noformat}"
      },
      {
        "author": "Devika Bhandari",
        "created": "2025-09-04T07:56:08.823+0100",
        "body": "For case 1: \n\n{{data/Datapoints?$expand=MeasurementObjects($count=true)}} \n\nThe count of in context expanded entity relies on availability field data. When the following query is executed, the response does not contain any availability data and hence count is not returned.\n\n{noformat}SEND DP_002_3_1756968677174 #DP_.DP1 #DX_.DX_ RANGE 1:10  AUTOSELECT POSTALL NOCITATION{noformat}\n\n{noformat}//@:DP1@1@@;@.@:DP1@2@@;@.@:DP1@3@@;@.@:DP1@4@@;@.@:DP1@5@@;@.@:@+//DP1@6@@;@.@:DP1@7@@;@.@:DP1@8@@;@.@:DP1@9@@;@.@:DP1@10@@;@.@+{noformat}"
      }
    ]
  },
  {
    "key": "RX-17901",
    "summary": "collect sql statements created in DAL regression test",
    "description": "Please collect generated SQL statements from DAL which are created during regression tests.\n\n\n\nThese should contain \n\n\n\n\n\n||*query (Odata or other format)*||*SQL statement*||\n\n\n\nPLease describe the expected result you expect? json? xml? sql object?\n\n\nStretch goal: Also the current response would be helpful",
    "status": "Done",
    "assignee": "Devika Bhandari",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Alec Fraser",
        "created": "2025-10-02T14:40:24.672+0100",
        "body": "*Björn Wittich*  [1 hour ago|https://elss.slack.com/archives/C089LPG4P8S/p1759409070637459?thread_ts=1759406314.084449&cid=C089LPG4P8S]\n\n\nyes, this have been seen and [@martins14|https://elsevier.enterprise.slack.com/team/U099SFSHW5Q] is taking them into consideration for the view prep.\n\n[13:44|https://elss.slack.com/archives/C089LPG4P8S/p1759409078418199?thread_ts=1759406314.084449&cid=C089LPG4P8S]\n\nI think we can close the ticket\n\n*Alec Fraser*  [1 hour ago|https://elss.slack.com/archives/C089LPG4P8S/p1759409188580979?thread_ts=1759406314.084449&cid=C089LPG4P8S]\n\n\ndo we need more as Devika Suggested?\n\n*Björn Wittich*  [1 hour ago|https://elss.slack.com/archives/C089LPG4P8S/p1759409331817239?thread_ts=1759406314.084449&cid=C089LPG4P8S]\n\n\nI would say \"no\" for the moment. The initial investigations are done, we know that we need to work on performane and crosscontext. but this will be covered on our way"
      },
      {
        "author": "Devika Bhandari",
        "created": "2025-09-16T06:37:49.621+0100",
        "body": "[~accountid:557058:95d34674-3cac-4080-9f43-a65fc04b43db] [~accountid:712020:3aba9b2c-5ebe-433a-860f-da3c0f68dacf] I have attached the first 25 sampled queries from DAL regression suite to the ticket. This is to serve as a starter and will be adding 75 more samples after this is reviewed to capture if there’s any additional info needed.   \n\n*How to read the excel?* \nThe first column captures the Odata query. Note : Each odata query results in one or more SQL queries.\nThe subsequent columns(one or more) are populated with SQL query in the order its invoked. The first SQL query is usually the count query unless the resource is searched by ID. The following SQL queries are in the order of resource, expanded resource and any nested expanded resources etc. \nNote: Some SQL queries have positional parameters specified. For such, the value to be binded are mentioned at the end of the query. \nThere are SQL hints of kind /*+ \"WINDOW_RANGE\"(\"table\" = 'REACTIONS.RX\n', \"parent_offset\" = '0', \"parent_fetch\" = '10', \"offset\" = '\n0', \"fetch\" = '10') */ which were added to help Fulgor execute window functions but these are not needed by Postgres and this gets ignored when postgres parses the query so it should be safe to use.\n\n\ncc: [~accountid:5aafb11f35e5a02a84df0e66] "
      }
    ]
  },
  {
    "key": "RX-18050",
    "summary": "Reaxys MCP Server - Addition of OAuth2 client credentials flow to consume Data API",
    "description": "No description",
    "status": "Review",
    "assignee": "Devika Bhandari",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-18053",
    "summary": "Reaxys MCP Tool - Return schema elements to enable OData query construction",
    "description": "No description",
    "status": "Done",
    "assignee": "Anna Tsiunchyk",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-18061",
    "summary": "DAL: Fulgor SEND query to existing hitset returns error when its followed by the count query with 0 hits all run in the same fulgor session.",
    "description": "\n\n*Steps to Reproduce:*\n\n# Create a non empty hitset h1\n# Send a count query(special syntax) with a filter that results in 0 hitsets\n# Try getting data from hitset h1 with send query and it returns error message.\n\nIn a given fulgor session, when the following fulgor queries are run in the given order with the corresponding repsonses, the last query returns error instead of the aspirin record:\n\nQuery 1:\n\n{noformat}SEARCH SORT +ID1 into ID_007_16_1800227787789954:S ID1:779271{noformat}\n\nResponse 1:\n\n{noformat}<truncated to keep it short>/M HITS=1,NAME=ID_007_16_1800227787789954,DB=RX713026RX,CTX=S,SORT_CRIT={+ID1},SUB_HITS=1./U CPU  0.00 sec/U ELA  0.00 sec/U CPU     0.00 sec/U ELA     0.00 sec{noformat}\n\nQuery 2:\n\n{noformat}SEND - from :S #ID_.ID1 RANGE 1:1 QUERY=ID6:\"ajpxpscwkmmidl-bjrvjinqdο\"{noformat}\n\nResponse 2:\n\n{noformat}///M HITS=0,NAME=-,DB=RX713026RX,CTX=S./U CPU  0.00 sec/U ELA  0.00 sec@+////@+{noformat}\n\nQuery 3:\n\n{noformat}SEND ID_007_16_1800227787789954 #ID_.IDM,IDN,ID3,IFE,ID1,IFA,ID8,IDW,IDD,IFF,IDK,IFB,IDY,IDP,IFK,ID9,IFH,IDV,ID5,IDS,IDQ,IFI,IDE,ID4,IDH,IFG,IDG,IDT,ID7,IFX,IDL,IFD,ID6,IDO,IDF,ZWY,IDR,IDA,IFC,IDI,IFL,IFJ,ID2,IDJ,IDC,IDU,IDB #FA_.FA_  RANGE 1:10 AUTOSELECT POSTALL NOCITATION{noformat}\n\nResponse 3:\n\n{noformat}modify ERROR at 1/U/UCrossFire Server Error CP_E_ACCESS_RETRIEVAL = -581: /U cannot access (use) the retrieval system/U/I Return code of last command = -581\n{noformat}\n\n*Expected Result:*\nThe positive request should always return a complete and correct response with expanded facts.\n\n*Actual Result:*\nThe positive request returns an empty response or an empty expanded fact because of the fulgor -581 error.\n\n{noformat}{\n    \"@odata.context\": \"$metadata#Substances(MeltingPoints())\",\n    \"value\": [\n        \n    ]\n}{noformat}\n\nNote:\n\n* Test logs are attached: [^testLogs.rtf] \n* OpenSearch log excerpt shows an error during retrieval:\n{{2025-09-16 15:05:02:654 INFO  [http-nio-8765-exec-10] XfireClient:  00-a10cb7ac905a46c087fddc2bf9913b12-20863f4ae05b45c6-00  XfireClient  writeAndRead    <legacy><legacy>  false  Request counter = 136, Message written = SEND ID_007_16_1800227787789954 #ID_.IDM,IDN,ID3,IFE,ID1,IFA,ID8,IDW,IDD,IFF,IDK,IFB,IDY,IDP,IFK,ID9,IFH,IDV,ID5,IDS,IDQ,IFI,IDE,ID4,IDH,IFG,IDG,IDT,ID7,IFX,IDL,IFD,ID6,IDO,IDF,ZWY,IDR,IDA,IFC,IDI,IFL,IFJ,ID2,IDJ,IDC,IDU,IDB #FA_.FA_  RANGE 1:10 AUTOSELECT POSTALL NOCITATION, Message read = modify ERROR at 1/U/UCrossFire Server Error CP_E_ACCESS_RETRIEVAL = -581: /U cannot access (use) the retrieval system/U/I Return code of last command = -581}}\n\nReproduced via DAL Regression tests. When running two requests in parallel under the same session (one negative and one positive), the positive test case intermittently returns either:\n\n* an empty response, or\n* an empty expanded fact.\n\nThis issue can be consistently reproduced. For that it possible to using the {{@DALParallelSessionIssue}} tag and executing the job [https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALByTag/103/|https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALByTag/103/].",
    "status": "To Do",
    "assignee": "Björn Wittich",
    "priority": "3-Medium",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Devika Bhandari",
        "created": "2025-09-24T09:25:32.378+0100",
        "body": "As it was noted in the slack conversation, its related to how count query for 0 hits is causing error during retrieving from existing hitset in the same session. \n\n[~accountid:557058:95d34674-3cac-4080-9f43-a65fc04b43db] Assigning it to you for coordinating and moving this task to the right assignee as fulgor need to handle this particular case. \n\ncc: [~accountid:5aafb11f35e5a02a84df0e66] "
      }
    ]
  },
  {
    "key": "RX-18066",
    "summary": "DAL - Implement OData $expand query options in Python SDK",
    "description": "*Background*\nUsers need the ability to apply filters and conditions not only on root entities but also on expanded collections.\n\n*Requirements*\n\n* Allow applying filters on expanded collections.\n** Example:\n*** OData:\n{noformat}GET data/Substances?$filter=ElectricalMoments/any(n:n/ElectricalMomentValue/Value eq 0.8 and n/ElectricalMomentSolvents/any(ns:ns eq 'benzene'))&ElectricalMoments($filter=ElectricalMomentSolvents/any(ns:ns eq 'benzene')){noformat}\n*** Python pseudo code:\n{noformat}query.filter(...).expand(Substances.ElectricalMoments.filter(\n    any(ElectricalMoments.ElectricalMomentSolvents == 'benzene')\n)){noformat}\n* Avoid re-implementing filtering features already available in python-odata; build on top of existing functionality.\n* Ensure return type matches the python-odata library classes rather than raw JSON.",
    "status": "To Do",
    "assignee": "Victor Rosca",
    "priority": "2-High",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-18077",
    "summary": "data-service Live Healthcheck Failure: Another User's Empty Hitset Reuse",
    "description": "During a [16-hour stability test run|https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DAL%20Stability%20Tests/92/] at 16 RPS, the {{data-service}} pod restarted 77 times. Investigation of the logs revealed repeated live health check failures with the following error:\n\n{quote}_Unexpected response: response is NULL or EMPTY or NULL XRN_{quote}\n\nThis occurred even though the {{data-server}} was available.\n\n!pod_77_restarts.jpg|width=50%,alt=\"pod_77_restarts.jpg\"!\n\n!failed_Dataservice_hc.jpg|width=1520,height=681,alt=\"failed_Dataservice_hc.jpg\"!\n\n[Opensearch logs for failed Live HC|https://opensearch.rx-nonprod.cm-elsevier.com/_dashboards/app/data-explorer/discover#?_a=(discover:(columns:!(message),isDirty:!f,sort:!(!('@timestamp',asc))),metadata:(indexPattern:'74a0d2c0-2be4-11f0-b4c0-176b59c74d9a',view:discover))&_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'2025-09-17T16:30:00.000Z',to:'2025-09-18T08:00:00.000Z'))&_q=(filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'74a0d2c0-2be4-11f0-b4c0-176b59c74d9a',key:kubernetes.pod_name,negate:!f,params:(query:demodal-service-deployment-6b67dfd64d-dlkwz),type:phrase),query:(match_phrase:(kubernetes.pod_name:demodal-service-deployment-6b67dfd64d-dlkwz))),('$state':(store:appState),meta:(alias:!n,disabled:!t,index:'74a0d2c0-2be4-11f0-b4c0-176b59c74d9a',key:log_level,negate:!f,params:(query:ERROR),type:phrase),query:(match_phrase:(log_level:ERROR))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'74a0d2c0-2be4-11f0-b4c0-176b59c74d9a',key:subcategory,negate:!f,params:(query:health),type:phrase),query:(match_phrase:(subcategory:health)))),query:(language:kuery,query:''))]\n\n*Root Cause Analysis:*\n\n# The {{data-service}} live health check calls the {{data-server}} to look up data by INCHI key.\n# An empty response indicates that the call succeeded, but no results were found.\n# The health check call reuses an existing connection containing {{XfireTransport}}.\n# If a previous request on that connection fails, an empty hitset is created and cached in {{XfireTransport}}.\n# Subsequent health check requests reuse the cached empty hitset, resulting in repeated empty responses. These are interpreted as failures, causing the health check to report a DOWN status to Kubernetes.\n*Please note,* the fact that previous hitset for different search is reused for HC is wrong\n# After 10 consecutive failed health checks, the pod is restarted.\n\n{noformat}-- search for Substance by ID 779271 failed because CB box has been rotated and not all DBs were loaded yet\n\n2025-09-17 22:17:41:091 INFO  [http-nio-8765-exec-4] XfireTransport:  00-3e6a2eaf591e4e428fcb21c4813c2021-58a77fbeb3e54fbf-00  XfireTransport  SearchRequest    <legacy><legacy>  false  Search command: SEARCH SORT +ID1 into ID_002_3_1800342996614919:S ID1:779271 \n2025-09-17 22:17:41:092 ERROR [http-nio-8765-exec-4] XfireTransport:  00-3e6a2eaf591e4e428fcb21c4813c2021-58a77fbeb3e54fbf-00  XfireTransport  switchDb    <legacy><legacy>  false  Database name not provided \n2025-09-17 22:17:41:114 ERROR [http-nio-8765-exec-4] XfireJdbcMeta:  00-3e6a2eaf591e4e428fcb21c4813c2021-58a77fbeb3e54fbf-00  XfireJdbcMeta  execute    <legacy><legacy>  false  Exception occurred in execute step: \njava.lang.RuntimeException: java.sql.SQLException: exception while executing query: {\"error\":{\"code\":\"E3604\",\"message\":\"Internal application error\",\"innerError\":{\"correlation-id\":\"00-3e6a2eaf591e4e428fcb21c4813c2021-58a77fbeb3e54fbf-00\",\"date\":\"2025-09-17T22:17:41\"}}}\n\n-- data-service liveness HC reused empty hiset created for ID1:779271 \n2025-09-17 22:17:44:107 INFO  [http-nio-8765-exec-8] XfireMeta:  00-7a5a48bdefda4c06986e15e5c9e37814-a51d8941dacb4f20-00  XfireMeta  Prepare    <legacy><legacy>  false  SQL: select s1_0.\"XRN\" from \"SUBSTANCES\".\"IDE\" s1_0 where s1_0.\"INCHI\"=? \n2025-09-17 22:17:44:309 INFO  [http-nio-8765-exec-5] XfireTransport:  00-7a5a48bdefda4c06986e15e5c9e37814-a51d8941dacb4f20-00  XfireTransport  SearchRequest    <legacy><legacy>  false  Re-using existing hitset: ID_002_3_1800342996614919 \n2025-09-17 22:17:44:310 INFO  [http-nio-8765-exec-5] XfireTransport:  00-7a5a48bdefda4c06986e15e5c9e37814-a51d8941dacb4f20-00  XfireTransport  RetrieveRequest    <legacy><legacy>  false  No hits found. Returning empty result. {noformat}\n\n\n",
    "status": "Done",
    "assignee": "Vladislav Matyushevski",
    "priority": "2-High",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Marina Al-Jarakh",
        "created": "2025-10-01T15:11:22.077+0100",
        "body": "{noformat}DALservice 0.1.207\nDALserver 0.1.155\nDALserviceAPI 0.0.34{noformat}\n\nFYI: \n(/) regression test has passed: [https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALRegression/936/|https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALRegression/936/]\n\n(/) execution time of regression test looks good (<14 min)\n(/) Versions check and availability have passed \n\n{noformat}When the data service is available\nAnd the data serviceAPI is available\nAnd a user sees the schema in metadata\nAnd the data server is available{noformat}"
      },
      {
        "author": "Vladislav Matyushevski",
        "created": "2025-09-19T17:05:21.472+0100",
        "body": "Important note:\nLive and Ready healthcheck response time must be reviewed as well"
      }
    ]
  },
  {
    "key": "RX-18104",
    "summary": "Reaxys MCP Server - Log analytics",
    "description": "No description",
    "status": "In Progress",
    "assignee": "Anna Tsiunchyk",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-18105",
    "summary": "Reaxys MCP Server - Load test suite",
    "description": "No description",
    "status": "In Progress",
    "assignee": "Devika Bhandari",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-18158",
    "summary": "DAL: Provide KNIME support to mimic current Bioactivities Node behavior",
    "description": "*Background*\n\nExusting Reaxys API clients using KNIME will be migrated to the new DAL API. To minimize the migration effort for their existing KNIME workflows we want to provide them with a replacement of the existing Citation KNIME node that can mimics the existing behavior while utilizing the new OData API.\n\nDetails on expected behavior: [https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602226266129/Migration+Requirements+-+Bioactivities+KNIME+Node|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602226266129/Migration+Requirements+-+Bioactivities+KNIME+Node|smart-link] \n\n*Acceptance Criteria*\n\n_Filter Capabilities_\n\n* User can specify one of the following filter input options\n** Bioactivity Datapoint ID\n** Patent Number\n** Reaxys Citation Number\n**  […]\n\n_Retrieve Capabilities_\n\n* User can select one of the following retrieve options\n** Bioactivity\n\n_Data Response Representation_\n\n* For Bioactivity retrieve option include the columns as described here: [https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602226266129/Migration+Requirements+-+Bioactivities+KNIME+Node|https://elsevier.atlassian.net/wiki/spaces/RXPM/pages/119602226266129/Migration+Requirements+-+Bioactivities+KNIME+Node|smart-link] \n* Each row contains the special columns\n** {{Query: QUERY_PROPERTY}}\n** {{Instance Identifier: Reaxys Bioactivity Datapoint ID}}\n* Each row represents a distinct bioactivity record\n* The following data transformations are applied for the representation in the KNIME cells\n** Single primitive value (int, string) → single primitive value\nExample:\nKNIME Column Name: {{??}}\nOData Property: ??\nOData Value: {{??}}\nKNIME Value: {{??}}\n** Collections of primitive values → concatenate values using {{|}}\nExample:\nKNIME Column Name: {{Document Type}}\nOData Property: Citation.DocumentType\nOData Value: {{Article}}\nKNIME Value: {{Article}}\n** Multiple instances of collections of entities\n*** if at least one entity property has a non-null value then\n**** concatenate values using {{|}}\n**** null value is explicitly represented as {{null}}\nExample: \nKNIME Column Name: ??\nOData Property: ??\nOData Value: {{\"yes\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\"}}\nKNIME Value: {{yes|null|null|null|null|null|null|null}}\n*** if all entity property instances are null then\n**** return _null value_\nExample: \nKNIME Column Name: {{??}}\nOData Property: ??\nOData Value: {{\"null\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\",\"null\"}}\nKNIME Value: _null value_",
    "status": "In Progress",
    "assignee": "Aleksandra Jarco",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-18229",
    "summary": "Change AWS ELB Health Check URL for DAL-SERVER on dal.nonprod",
    "description": "DAL-Server TargetGroup Healthcheck URL is expected to changed. As a result of changes in Healthchecks for DAL modules.\n\nfrom: “/actuator/health/live”\n\nto: “/actuator/health/ready”\n\n\n\nTargetGroup to be updated: *nonprod-dal-cbox-priv-8765*",
    "status": "Done",
    "assignee": "Leora Rachel Dsouza",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-18251",
    "summary": "DAL - Update Kong OpenAPI endpoints for GTM MVP release",
    "description": "The Kong endpoint specs currently defined require the modifications as described below\n\nNote: Besides the endpoint changes, the openapi definitions shall also be updated using the latest DAL OData specs with regards to datatypes. The current specs define ranges using the old range type definitions and not the new string type.\n\n\n\n*Endpoint Modifications*\n\n*_Add the endpoints and endpoint sections_*  \n\n*Specs to be added*\n\n||Endpoint||Section||\n|/data/CommercialSubstances|get|\n|/data/CommercialSubstances({ReaxysCommercialSubstanceId})|get|\n|/data/CommercialSubstances({ReaxysCommercialSubstanceId})|parameters|\n|/data/CommercialSubstances/Reaxys.SearchByMolecule|post|\n|/data/CommercialSubstances/Reaxys.SearchByReaction|post|\n|/data/CommercialSubstances/Reaxys.SearchBySimilarity|post|\n|/data/Datapoints/data.SubmitSearchByMolecule|post|\n|/data/PubchemCompounds|get|\n|/data/PubchemCompounds({PubchemCompoundId})|get|\n|/data/PubchemCompounds({PubchemCompoundId})|parameters|\n|/data/PubchemCompounds/Reaxys.SearchByMolecule|post|\n|/data/PubchemCompounds/Reaxys.SearchByReaction|post|\n|/data/PubchemCompounds/Reaxys.SearchBySimilarity|post|\n|/data/Suppliers|get|\n|/data/Suppliers({CommercialSupplierId})|get|\n|/data/Suppliers({CommercialSupplierId})|parameters|\n|/data/Targets/data.SubmitSearchByMolecule|post|\n\n\n*_Delete endpoints and endpoint sections_*\n\n*Specs to be deleted*\n\n||Endpoint||Section||\n|/data/Datapoints/data.SubmitSearchByReaction|post|\n\n\n*_Unchanged endpoints and endpoint sections_*\n\n*Unchanged specs*\n\n||Endpoint||Section||\n|/Monitor(RequestId={RequestId})|get|\n|/data/$metadata|get|\n|/data/Citations|get|\n|/data/Citations({CitationNumberId})|get|\n|/data/Citations({CitationNumberId})|parameters|\n|/data/Citations/data.Retrieve(RequestId={RequestId})|get|\n|/data/Citations/data.SearchByMolecule|post|\n|/data/Citations/data.SearchByReaction|post|\n|/data/Citations/data.SearchBySimilarity|post|\n|/data/Citations/data.SubmitSearchByMolecule|post|\n|/data/Citations/data.SubmitSearchByReaction|post|\n|/data/Datapoints|get|\n|/data/Datapoints({DatapointId})|get|\n|/data/Datapoints({DatapointId})|parameters|\n|/data/Datapoints/data.Retrieve(RequestId={RequestId})|get|\n|/data/Datapoints/data.SearchByMolecule|post|\n|/data/Datapoints/data.SearchBySimilarity|post|\n|/data/Reactions|get|\n|/data/Reactions({ReactionId})|get|\n|/data/Reactions({ReactionId})|parameters|\n|/data/Reactions/data.Retrieve(RequestId={RequestId})|get|\n|/data/Reactions/data.SearchByMolecule|post|\n|/data/Reactions/data.SearchByReaction|post|\n|/data/Reactions/data.SearchBySimilarity|post|\n|/data/Reactions/data.SubmitSearchByMolecule|post|\n|/data/Reactions/data.SubmitSearchByReaction|post|\n|/data/Substances|get|\n|/data/Substances({ReaxysRegistryNumber})|get|\n|/data/Substances({ReaxysRegistryNumber})|parameters|\n|/data/Substances/data.Retrieve(RequestId={RequestId})|get|\n|/data/Substances/data.SearchByMolecule|post|\n|/data/Substances/data.SearchByReaction|post|\n|/data/Substances/data.SearchBySimilarity|post|\n|/data/Substances/data.SubmitSearchByMolecule|post|\n|/data/Substances/data.SubmitSearchByReaction|post|\n|/data/Targets|get|\n|/data/Targets({TargetId})|get|\n|/data/Targets({TargetId})|parameters|\n|/data/Targets/data.Retrieve(RequestId={RequestId})|get|\n|/data/Targets/data.SearchByMolecule|post|\n|/data/Targets/data.SearchBySimilarity|post|\n\n*_Expected endpoints and endpoint sections in resulting specs_*\n\n*Expected Kong accessible endpoints after modifications being applied*\n\n{noformat}/Monitor(RequestId={RequestId})\n/data/$metadata\n/data/Citations\n/data/Citations({CitationNumberId})\n/data/Citations/data.Retrieve(RequestId={RequestId})\n/data/Citations/data.SearchByMolecule\n/data/Citations/data.SearchByReaction\n/data/Citations/data.SearchBySimilarity\n/data/Citations/data.SubmitSearchByMolecule\n/data/Citations/data.SubmitSearchByReaction\n/data/CommercialSubstances\n/data/CommercialSubstances({ReaxysCommercialSubstanceId})\n/data/CommercialSubstances/data.SearchByMolecule\n/data/CommercialSubstances/data.SearchByReaction\n/data/CommercialSubstances/data.SearchBySimilarity\n/data/Datapoints\n/data/Datapoints({DatapointId})\n/data/Datapoints({DatapointId})/data.SubmitSearchByMolecule\n/data/Datapoints/data.Retrieve(RequestId={RequestId})\n/data/Datapoints/data.SearchByMolecule\n/data/Datapoints/data.SearchBySimilarity\n/data/PubchemCompounds\n/data/PubchemCompounds({PubchemCompoundId})\n/data/PubchemCompounds/Reaxys.SearchByMolecule\n/data/PubchemCompounds/Reaxys.SearchByReaction\n/data/PubchemCompounds/Reaxys.SearchBySimilarity\n/data/Reactions\n/data/Reactions({ReactionId})\n/data/Reactions/data.Retrieve(RequestId={RequestId})\n/data/Reactions/data.SearchByMolecule\n/data/Reactions/data.SearchByReaction\n/data/Reactions/data.SearchBySimilarity\n/data/Reactions/data.SubmitSearchByMolecule\n/data/Reactions/data.SubmitSearchByReaction\n/data/Substances\n/data/Substances({ReaxysRegistryNumber})\n/data/Substances/data.Retrieve(RequestId={RequestId})\n/data/Substances/data.SearchByMolecule\n/data/Substances/data.SearchByReaction\n/data/Substances/data.SearchBySimilarity\n/data/Substances/data.SubmitSearchByMolecule\n/data/Substances/data.SubmitSearchByReaction\n/data/Suppliers\n/data/Suppliers({CommercialSupplierId})\n/data/Targets\n/data/Targets({TargetId})\n/data/Targets/data.SubmitSearchByMolecule\n/data/Targets/data.Retrieve(RequestId={RequestId})\n/data/Targets/data.SearchByMolecule\n/data/Targets/data.SearchBySimilarity{noformat}",
    "status": "In Progress",
    "assignee": "Srikanta Patanjali",
    "priority": "1-Critical",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-18301",
    "summary": "DAL - nextlink returns unexpected results for access rules with attribute value condition",
    "description": "Environment:\nDAL PROD: {{https://dal-data-api.reaxys-prod.cortex.elsevier.systems}}\n\n*Steps Taken*\n\n*_Expected results with access rule without attribute value condition_*\n\n# Create Mock tokens using the payload\n\n{noformat}{\n\t\"licenses\": \"{\\\"dbs\\\": {\\\"reaxys\\\": {\\\"retrieve\\\": {\\\"substances\\\": {\\\"attribute_groups\\\": [\\\"Identification\\\", \\\"Structure\\\"]}, \\\"targets\\\": {}, \\\"datapoints\\\": {}, \\\"citations\\\": {}}, \\\"search\\\": {\\\"substances\\\": {\\\"attribute_groups\\\": [\\\"Identification\\\", \\\"Structure\\\"]}, \\\"datapoints\\\": {}, \\\"targets\\\": {}, \\\"citations\\\": {}}}, \\\"pubchem\\\": {}}}\",\n\t\"tenant\": \"ECR-516035\",\n  \"client_id\": \"reaxys_data_api_ecr_516035_BialInd_discovery_01\",\n\t\"data_api_access\": \"Yes\"\n}{noformat}\n\n# Submit OData request using generated mock token\n\n{{https://dal-data-api.reaxys-prod.cortex.elsevier.systems/data/Citations?%24filter=CommonPatentNumber%20eq%20'US2007141554'}}\n\nResponse: 10 citations are returned\n\n# Call nextlink in response with mock token\n\nResponse: remaining 5 citations are returned\n\n\n\n*_Unexpected Results with access rule with attribute value condition_*\n\n# Create Mock tokens using the payload\n\n{noformat}{\n\t\"licenses\": \"{\\\"dbs\\\": {\\\"reaxys\\\": {\\\"retrieve\\\": {\\\"substances\\\": {\\\"attribute_groups\\\": [\\\"Identification\\\", \\\"Structure\\\"]}, \\\"targets\\\": {}, \\\"datapoints\\\": {}, \\\"citations\\\": {}}, \\\"search\\\": {\\\"substances\\\": {\\\"attribute_groups\\\": [\\\"Identification\\\", \\\"Structure\\\"],\\\"conditions\\\":[{\\\"SubstanceBioactivityPresence\\\":[\\\"eq\\\",\\\"true\\\"]}]}, \\\"datapoints\\\": {}, \\\"targets\\\": {}, \\\"citations\\\": {\\\"conditions\\\":[{\\\"SubstanceBioactivityPresence\\\":[\\\"eq\\\",\\\"true\\\"]}]}}}, \\\"pubchem\\\": {}}}\",\n\t\"tenant\": \"ECR-516035\",\n  \"client_id\": \"reaxys_data_api_ecr_516035_BialInd_discovery_01\",\n\t\"data_api_access\": \"Yes\"\n}{noformat}\n\n# Submit OData request using generated mock token\n\n{{https://dal-data-api.reaxys-prod.cortex.elsevier.systems/data/Citations?%24filter=CommonPatentNumber%20eq%20'US2007141554'}}\n\nResponse: 10 citations are returned\n\n# Call nextlink in response with mock token\n\nResponse: 10 citations are returned\n\n*Expected Results*: 5 citations are returned",
    "status": "Review",
    "assignee": "Anna Tsiunchyk",
    "priority": "1-Critical",
    "issue_type": "Bug",
    "comments": [
      {
        "author": "Anna Tsiunchyk",
        "created": "2025-10-09T10:08:32.513+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed]  there might be a mistake in a token payload: should it have {{BioactivityPresence}} instead of {{SubstanceBioactivityPresence}}?\n\n{noformat}{\n\t\"licenses\": \"{\\\"dbs\\\": {\\\"reaxys\\\": {\\\"retrieve\\\": {\\\"substances\\\": {\\\"attribute_groups\\\": [\\\"Identification\\\", \\\"Structure\\\"]}, \\\"targets\\\": {}, \\\"datapoints\\\": {}, \\\"citations\\\": {}}, \\\"search\\\": {\\\"substances\\\": {\\\"attribute_groups\\\": [\\\"Identification\\\", \\\"Structure\\\"],\\\"conditions\\\":[{\\\"SubstanceBioactivityPresence\\\":[\\\"eq\\\",\\\"true\\\"]}]}, \\\"datapoints\\\": {}, \\\"targets\\\": {}, \\\"citations\\\": {\\\"conditions\\\":[{\\\"BioactivityPresence\\\":[\\\"eq\\\",\\\"true\\\"]}]}}}, \\\"pubchem\\\": {}}}\",\n\t\"tenant\": \"ECR-516035\",\n  \"client_id\": \"reaxys_data_api_ecr_516035_BialInd_discovery_01\",\n\t\"data_api_access\": \"Yes\"\n}{noformat}"
      }
    ]
  },
  {
    "key": "RX-18302",
    "summary": "DAL - Complete the implementation for $filter query syntax in Python SDK",
    "description": "Following the recent sync, we need to ensure that the Python SDK fully supports the expected OData {{$filter}} query options. Currently, a partial implementation has been added in branch {{feature/review-filter-syntax}}.\n\nThe supported syntax should include, but not be limited to:\n\n{noformat}filter(any(substances.ChemicalNames.startswith('py')))\nfilter(any(substances.ChemicalNames == 'py'))\nfilter(substances.ChemicalNames == 'val1'){noformat}\n\n*AC:*\n\n* Extend it to support all required OData {{$filter}} syntax variations.\n* Add comprehensive test coverage to validate correctness.\n* Ensure error handling is consistent and robust.",
    "status": "In Progress",
    "assignee": "Victor Rosca",
    "priority": "2-High",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-18303",
    "summary": "DAL - Superscript degree symbol not readable",
    "description": "*Observed from DAL API vis Insomnia,*\n\n!image-20250930-090357.png|width=480,height=459,alt=\"image-20250930-090357.png\"!\n\n*Fulgor response*\n\n{noformat}//@;@;@;@;@;@:BZR1: NH3, O2, H2O / Sn-V catalyst / 380 - 420 �C@:BZR2: aq.@+\n// NaOH@;@:BZR1: bromine / 120 - 150 �C / Irradiation@:BZR2: concentrated @+\n//sulfuric acid / 120 - 130 �C@;@;@.@+{noformat}\n\n\n\n*Acceptance Criteria*\n\n* display correctly as that shown on UI\n* RX.ID=303627 on [https://dal.rx-nonprod.cm-elsevier.com/#/search/advanced|https://dal.rx-nonprod.cm-elsevier.com/#/search/advanced]\n\n!image-20250930-091243.png|width=819,height=373,alt=\"image-20250930-091243.png\"!",
    "status": "Draft",
    "assignee": "Markus Fischer",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": [
      {
        "author": "Markus Fischer",
        "created": "2025-09-30T10:40:33.676+0100",
        "body": "[~accountid:5a4d1d091e82dd081aaea3ed]  to add XML server query example to collect XFire logs"
      }
    ]
  },
  {
    "key": "RX-18305",
    "summary": "Reaxys MCP Tool - OData URI validation tool",
    "description": "No description",
    "status": "Review",
    "assignee": "Anna Tsiunchyk",
    "priority": "3-Medium",
    "issue_type": "Story",
    "comments": []
  },
  {
    "key": "RX-18306",
    "summary": "DAL - BE - Support sorting citations",
    "description": "*Story*\n\nWhen retrieving citations\nI want to order the returned citations records by citation properties\nSo that I can examine the most relevant records at the top of the list\n\n*Acceptance Criteria*\n\nRequest\n\n* shall allow to order citation records by sortable fulgor fields\n* shall allow to order by multiple sortable fields in one request\n* shall allow to specify asc or desc as order\n* shall sort in ascending order by default if asc or desc is not specified\n* shall allow to order by primitive resource properties\n* Example requests\n** {{data/Citations?$orderby=PublicationYear asc, CitedBy desc}}\n* shall allow to order by values of associated non-core facts\n** OData notation is defined (possible example: {{data/Citations?$orderby=Keywords/KeywordTerm/ReaxysIndexTerms desc)}}\n* ordering of non-core facts in expand NOT required e.g. {{data/Citations?$expand=Keywords($orderby=TypeKeywords desc)}}\n\nResponse\n\n* Citations are order according to the specified criteria\n\n\n\nList of sortable substance fields\n\n|*OData Name*|*XML Server Field*|*Code*|\n|*_Must have primitive sort fields_*| | |\n|PublicationYear|CIT.PY|CII|\n|DocumentType|CIT.DT|CI1|\n|CitedBy|CIT.CITBY|CIS|\n|CitationEntryDate|CNR.CED|R1M|\n|CitationUpdateDate|CNR.CUPD|R1N|\n|*_Good to have non-core primitive sort fields_*| | |\n|ReaxysIndexTerms|KWD.ONAME|CL4|\n|*_Nice to have sort fields_*| | |\n|Authors|[CIT.AU|http://CIT.AU]|CI2|\n|PatentAssignee|CIT.OPA|CI3|\n|AbstractPresence|CIT.ABPR|CIM|\n|ImpactFactor|CIT.IMPACT|CIV|\n|PreferredPublicationYear|CIT.PREPY|CIX|\n|Pui|CIT.PUI|CIZ|\n|Pii|CIT.PII|CJF|\n|JournalPublicationStatus|CIT.PS|CJD|\n|IndexingStatus|[CIT.IS|http://CIT.IS]|CJE|\n|PatentCountryCode|CIT.PCC|CIN|\n|JournalTitle|CIT.JT|CI8|\n|DocumentQuality|CIT.DOCQ|CJA|\n|BioactivityPresence|CIT.HASBIO|CJB|\n|typeKeywords|KWD.TYP|CL1|\n|Name|KWD.NAME|CL2|\n|BiotechnologyTerms|KWD.BTC|CLD|\n|CompendexTerms|KWD.CCV|CLE|\n|EmtreeDrugTerm|KWD.DRG|CLF|\n|FluidsEngineeringTerms|KWD.FDE|CLG|\n|EmtreeMedicalTerm|KWD.MED|CLH|\n|Species|KWD.SPC|CLI|\n|geoBaseSubjectIndex|KWD.GDE|CLK|\n|AuthorKeywords|KWD.AUT|CLJ|\n|ObjectIdentifier|KWD.OID|CL5|\n|TargetIndexTerms|KWD.TANAME|CL8|\n|TargetObjectIdentifier|KWD.TAOID|CL9|\n|DateOfPublication|PBIB.PD|CK1|\n|MainIpc|PBIB.ICM|CK7|",
    "status": "In Progress",
    "assignee": "Aliaksandr Zuyevich",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-18325",
    "summary": "DAL: QA - Substances (mocked data): Update field type for BiodegradationDegradationProductXrn (expected Long, got Decimal)",
    "description": "In the DAL QA environment (with {{RX215705RX}}), the {{Substances}} mocked data model defines the field {{BiodegradationDegradationProductXrn}}(XD8 in Fulgor) with an incorrect type. The field {{BiodegradationDegradationProductXrn}} in the {{Biodegradations}} entity is defined as {{Long}} ({{Edm.Int64}}) in  DAL. However, the mocked data contains decimal values ({{119.7}}). This mismatch causes the 500 error\n\nSteps to reproduce:\n\n1. Call GET {{https://qadal-data-api.reaxys-nonprod.cortex.elsevier.systems/data/Substances?$filter=ReaxysRegistryNumber eq '191476'&$expand=Biodegradations}}\n\nExpected result:\n\n* Field {{BiodegradationDegradationProductXrn}} should be stored and returned as a *Long* (e.g. 1197)\n* Expansion on {{Biodegradations}} should return *200* with an expected value\n\n*Actual result:*\n\n* Mocked data contains {{Decimal}} values ({{119.7}}).\n* Expansion fails with *500 error* due to type mismatch.\n\n{noformat}{\n\t\"error\": {\n\t\t\"code\": \"E3900\",\n\t\t\"message\": \"Internal application error\",\n\t\t\"innerError\": {\n\t\t\t\"correlation-id\": \"00-d224ad2d8baf475ca664e3c60de15f35-fa3af63f869e46b8-00\",\n\t\t\t\"date\": \"2025-09-30T14:45:12\"\n\t\t}\n\t}\n}{noformat}\n\n* Fulgor response: \n{noformat}//@:XD0314025@:XDYbiodegradationsources gmelin@:XD1biodegradationtype valu@+//e@:XD2inoculum string@:XD3biodegradationconcentration string@:XD4biodegr@+//adationdegradationrate string@:XD5biodegradationexposureperiod string@:X@+//D6156@:XD7biodegradationhalflifetime string@:XD8119.7@:XD9biodegradation@+//degradationproductvalue string@:XDAbiodegradationmethodremarks string@:X@+//DV2021/05/01@:XDWpage/page column 1201@:XDZbiodegradationtaglocations1@:@+//XDXbiodegradationcomments diagram@;@:ID1@*191476@*@;@.@+@XFIRE> {noformat}\n\nMore fields to update (Fulgor naming and DAL Quary):\nFulgor naming: {{V27}}   - Dal query: {{/data/Substances?$filter=ReaxysRegistryNumber eq 191476&$expand=LiquidAndSolidSystemsMcsList}}\n",
    "status": "In Progress",
    "assignee": "Xiaoyan Wu",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-18329",
    "summary": "DAL (regression): QA - Substances\\CommercialSubstances\\Citations (mocked data): Missing and Null Values",
    "description": "When querying for the fields below, they return {{null}} or empty values instead of the expected data. This issue affects *Substance, CommercialSubstances and Citations context.* The issue began to appear after September 16.\n\nSteps to Reproduce: \n\n# *Substance*. DAL Query: {{https://qadal-data-api.reaxys-nonprod.cortex.elsevier.systems/data/Substances?$filter=ReaxysRegistryNumber eq 191476}}\n\n{noformat} - Field 'AlternateInChiKey' differs: - Expected: AAAACNYFPLRLQI-UHFFFAOYAX - Actual: null\n - Field 'Availabilities' differs: - Expected: 2 - Actual: \n - Field 'ConstitutionId' differs: - Expected: 4 - Actual: null\n - Field 'FullReactionCount' differs: - Expected: 0 - Actual: null\n - Field 'InChiKey' differs: - Expected: BSYNRYMUTXBXSQ-UHFFFAOYSA-N - Actual: null\n - Field 'MarkushReferenceCount' differs: - Expected: 1 - Actual: null\n - Field 'MaximumPublicationYear' differs: - Expected: 2021 - Actual: null\n - Field 'NumberOfReferences' differs: - Expected: 58 - Actual: null\n - Field 'SubstanceBioactivityPresence' differs: - Expected: 0 - Actual: null\n - Field 'SubstanceEntryDate' differs: - Expected: 2021/01/02 - Actual: null\n - Field 'SubstanceForeignDatabaseAvailability' differs: - Expected: 9 - Actual: null\n - Field 'SubstanceIdentificationCompositionComps' differs: - Expected: [CompositionCompoundAttribute:dopant, CompositionCompoundConc:0 atom percent - 1 atom percent, CompositionCompoundName:((12z,2s,6s,9s,12s,16r,19e)-6-((s)-sec-butyl)-12-((s)-2-(2-(4-hydroxybenzamido)acetamido)propanamido)-2-(4-hydroxybenzyl)-4,5,8,11,15,18-hexaoxo-9-propyl-3,7,10,14,17-pentaaza-1(2,4)-thiazolacycloicosaphan-19-en-16-yl)methanesulfonate sodium, CompositionCompoundXrn:35] - Actual: []\n - Field 'SubstanceIdentificationFragments' differs: - Expected: [FragmentMolecularFormula:A6U, FragmentXrn:30] - Actual: [FragmentMolecularFormula:A6U, FragmentXrn:null]\n - Field 'SubstanceUpdateDate' differs: - Expected: 2023/06/29 - Actual: null\n - Field 'TautomerId' differs: - Expected: 5 - Actual: null\n - Field 'TypeAndModification' differs: - Expected: low temperature, monoclinic, P21/C - Actual: null\n - Field 'TypeOfSubstances' differs: - Expected: Coordination compound - Actual: []{noformat}\n\nFYI: QA ticket: [https://elsevier.atlassian.net/browse/RX-12118|https://elsevier.atlassian.net/browse/RX-12118|smart-link] \n\n# *CommercialSubstances.*  DAL Query: {{https://qadal-data-api.reaxys-nonprod.cortex.elsevier.systems/data/CommercialSubstances?$filter=ReaxysCommercialSubstanceId eq 2273201}}\n\n{noformat} - Field 'AlternateInChiKey' differs: - Expected: AAAACNYFPLRLQI-UHFFFAOYAX - Actual: null\n - Field 'Availabilities' differs: - Expected: 0 - Actual: \n - Field 'EntryDate' differs: - Expected: 2023/01/12 - Actual: null\n - Field 'ForeignDatabaseAvailability' differs: - Expected: 9 - Actual: null\n - Field 'InChiKey' differs: - Expected: RGGOWBBBHWTTRE-UHFFFAOYSA-N - Actual: null\n - Field 'NumberOfReferences' differs: - Expected: 3 - Actual: null\n - Field 'RegistrationString' differs: - Expected: 10dd0fa941c2b9634a02f6ebde46cef4 - Actual: null\n - Field 'SubstanceIdentificationFragments' differs: - Expected: [FragmentMolecularFormula:ClH, FragmentXrn:1906335], [FragmentMolecularFormula:C6H7BrN2, FragmentXrn:2030220], [FragmentMolecularFormula:null, FragmentXrn:1] - Actual: [FragmentMolecularFormula:ClH, FragmentXrn:1906335], [FragmentMolecularFormula:C6H7BrN2, FragmentXrn:2030220]\n - Field 'UpdateDate' differs: - Expected: 2023/03/01 - Actual: null{noformat}\n\nFYI: QA ticket: [https://elsevier.atlassian.net/browse/RX-17283|https://elsevier.atlassian.net/browse/RX-17283|smart-link] \n\n# *Citations.*  DAL Query:  {{https://qadal-data-api.reaxys-nonprod.cortex.elsevier.systems/data/Citations?$filter=CitationNumberId eq 26&$expand=PatentBibliographies}}\n\n{noformat} - Field ‘FamilyMemberIndexedPatent’ in ‘PatentBibliographies’: - Expected: yes - Actual: null{noformat}\n\nFYI: QA ticket: [https://elsevier.atlassian.net/browse/RX-12950|https://elsevier.atlassian.net/browse/RX-12950|smart-link] \n\nNote:\n\nReport September 16: [https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALDataValidation/47/ReportDALDataValidation/|https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALDataValidation/47/ReportDALDataValidation/]\n\nReport latest [https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALDataValidation/51/ReportDALDataValidation/|https://jenkins.rx-nonprod.cm-elsevier.com/job/QA/view/dal/job/DALDataValidation/51/ReportDALDataValidation/]",
    "status": "Draft",
    "assignee": "Xiaoyan Wu",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-18987",
    "summary": "Add a new AWS secret for Data API MCP server",
    "description": "Need a new key in AWS secrets with the key name : {{DATA_API_MCP_SERVER}}\n\nThe json value stored for the above key needed is as described below\n\n{noformat}{\n  \"clientId\": \"\",\n  \"clientSecret\": \"\",\n  \"tokenUri\": \"\",\n  \"apiBaseUrl\": \"\",\n  \"scope\": []\n}{noformat}\n\nThis needs to be made available to the mcp pod running in kubernetes cluster on nonprod environment",
    "status": "In Progress",
    "assignee": "Kirubakaran Kannan",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": []
  },
  {
    "key": "RX-19103",
    "summary": "Remove support for RCS cross context queries",
    "description": "Remove support for cross context queries in RCS and throw NOT_SUPPORTED exception when user tries any of such queries.\n\n{noformat}/data/CommercialSubstances?$expand=Suppliers\n/data/Suppliers?$expand=CommercialSubstances{noformat}",
    "status": "Draft",
    "assignee": "Devika Bhandari",
    "priority": "3-Medium",
    "issue_type": "Task",
    "comments": []
  }
]